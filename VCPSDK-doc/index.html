
<!DOCTYPE html>
<html class="writer-html4" lang="ja" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>VCP documentation</title>
  

  
  <link rel="stylesheet" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/print.css" type="text/css" />
  <link rel="stylesheet" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'ja',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/jquery.js"></script>
        <script type="text/javascript" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/underscore.js"></script>
        <script type="text/javascript" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/doctools.js"></script>
        <script type="text/javascript" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/translations.js"></script>
    
    <script type="text/javascript" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html#document-index" class="icon icon-home"> VCP
          

          
          </a>

          
            
            
              <div class="version">
                22.04.1
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><p class="caption"><span class="caption-text">目次:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-vcpsdk_man">1. VCP SDK の機能仕様とシステム設計について</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#id1">1.1. VCP SDK の利用環境の前提条件</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vcp">1.2. VCP による仮想システム環境の基本的な構成要素</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#unitgroup">1.3. UnitGroup の状態定義</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#node">1.4. Node の状態定義</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id2">1.5. VCP SDK が扱う計算資源の属性</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#provider">1.5.1. provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spec">1.5.2. spec</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#flavor">1.5.3. flavor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vcp-sdk-api">1.6. VCP SDK API 利用方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id4">1.6.1. 起動</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id5">1.6.2. UnitGroup 確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#unit-node">1.6.3. 起動した Unit, Node の確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id6">1.6.4. Node 追加</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id7">1.6.5. Node 削除</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#unitgroup-unit">1.6.6. UnitGroup 初期化 (全 Unit 削除)</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id8">1.6.7. spec のカスタマイズ</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id9">1.6.8. UnitGroup 情報の確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#vpn">1.6.9. VPNカタログ情報の確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id10">1.6.10. 何か問題があったらバージョン情報を確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#chameleon-cloud">1.6.11. Chameleon Cloud の例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id11">1.7. VCP SDK の設定ファイル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#jupyternotebookvc">1.7.1. JupyterNotebookからVCコントローラに直接接続できないネットワーク構成の場合対応</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#vcnode-dns">1.7.2. VcNode DNS の設定</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id12">1.8. 特権モード機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id13">1.9. spec 一覧</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#provider-spec">1.9.1. provider 共通の spec</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id14">1.9.2. provider 固有の spec</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-vcpsdk">2. VCP SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.vcpsdk">2.1. SDKベースクラス(vcpsdk/vcpsdk)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.aws">2.2. SDK plugins for AWS (vcpsdk/plugins/aws)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.azure">2.3. SDK plugins for Azure (vcpsdk/plugins/azure)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.sakura">2.4. SDK plugins for Sakura (vcpsdk/plugins/sakura)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.aic">2.5. SDK plugins for AIC(vcpsdk/plugins/aic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.abc">2.6. SDK plugins for ABC (vcpsdk/plugins/abc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.gcp">2.7. SDK plugins for GCP (vcpsdk/plugins/gcp)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.onpremises">2.8. SDK plugins for Onpremises (vcpsdk/plugins/onpremises)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.aws_disk">2.9. SDK plugins for AWS Disk (vcpsdk/plugins/aws_disk)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.azure_disk">2.10. SDK plugins for Azure Disk (vcpsdk/plugins/azure_disk)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.sakura_disk">2.11. SDK plugins for Sakura Disk (vcpsdk/plugins/sakura_disk)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.aws_spot">2.12. SDK plugins for AWS Spot Instance (vcpsdk/plugins/aws_spot)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.vmware">2.13. SDK plugins for VMware (vcpsdk/plugins/vmware)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.hokudai">2.14. SDK plugins for Hokudai (vcpsdk/plugins/hokudai)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.oracle">2.15. SDK plugins for Oracle Cloud (vcpsdk/plugins/oracle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.oracle_disk">2.16. SDK plugins for Oracle Cloud Disk (vcpsdk/plugins/oracle_disk)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.chameleon">2.17. SDK plugins for Chameleon Cloud (vcpsdk/plugins/chameleon)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-vcpsdk.plugins.chameleon_ext">2.18. SDK plugins for Chameleon Cloud extension (vcpsdk/plugins/chameleon_ext)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#sdk-plugins-for-mdx-extension-vcpsdk-plugins-mdx-ext">2.19. SDK plugins for mdx extension (vcpsdk/plugins/mdx_ext)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-vcpcli">3. VCP CLI操作説明書</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#id1">3.1. 概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vcp">3.2. VCPとクラウドオブジェクトストレージの概念の対応付け</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id2">3.3. 機能概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id3">3.4. 認証情報の取得方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id4">3.5. ユーザ操作説明</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id5">3.5.1. インストール手順</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id6">3.5.2. 設定手順</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id7">3.5.3. コマンド概要</a><ul>
<li class="toctree-l4"><a class="reference internal" href="index.html#volume">3.5.3.1. volume作成</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id8">3.5.3.2. volume削除</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id9">3.5.3.3. オブジェクトのアップロード</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id10">3.5.3.4. オブジェクトのダウンロード</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id11">3.5.3.5. ボリュームの一覧表示</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id12">3.5.3.6. オブジェクトの一覧表示</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id13">3.5.3.7. オブジェクトの削除</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id14">3.6. 制限事項</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#bucket">3.6.1. Bucket名 / ストレージアカウント名の制限</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id15">3.6.2. 操作の制限</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html#document-index">VCP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html#document-index" class="icon icon-home"></a> &raquo;</li>
        
      <li>VCP  documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vcp-sdk-api">
<h1>VCP SDK API仕様書<a class="headerlink" href="#vcp-sdk-api" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-vcpsdk_man"></span><div class="section" id="vcp-sdk">
<h2>1. VCP SDK の機能仕様とシステム設計について<a class="headerlink" href="#vcp-sdk" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>1.1. VCP SDK の利用環境の前提条件<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Python バージョン 3.7.3 以上</li>
<li><dl class="first docutils">
<dt>JupyterNotebook: NII クラウド運用チーム提供 Docker イメージ</dt>
<dd><a class="reference external" href="https://hub.docker.com/r/niicloudoperation/notebook">https://hub.docker.com/r/niicloudoperation/notebook</a></dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>VCP SDK の展開先ディレクトリ: 環境変数 <cite>PYTHONPATH</cite> に設定</dt>
<dd>環境変数 <cite>PYTHONPATH</cite> のデフォルト設定:
<cite>PYTHONPATH=/home/jovyan/vcpsdk</cite></dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="vcp">
<h3>1.2. VCP による仮想システム環境の基本的な構成要素<a class="headerlink" href="#vcp" title="Permalink to this headline">¶</a></h3>
<p>VCP SDK が扱う仮想システム環境は、以下の構成要素を持つ。</p>
<a class="reference internal image-reference" href="https://github.com/nii-gakunin-cloud/ocs-docs/blob/main/VCPSDK-doc/_images/vcp_structure.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vcp_structure.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vcp_structure.png" style="width: 547.0px; height: 421.0px;" /></a>
<ul class="simple">
<li>Virtual Cloud (VC)
- 複数のクラウドにまたがって構築されたひとつの仮想システム環境</li>
<li>UnitGroup
- サーバ、クライアントなどの相互に関係をもつ異質な Node 群をグループとしてまとめて扱う単位
- 複数の Unit を1つの UnitGroup にまとめることができる</li>
<li>Unit
- 同質（同じクラウド、同じ計算資源 (cpu, memory, ...) 、同じ用途）である Node をまとめて扱うための単位
- Unit に 属する Node をスケールアウト、スケールインすることができる</li>
<li>Node
- UnitGroup を構成する個々のノード
- パブリッククラウドの仮想マシン (Amazon EC2 インスタンス、Microsoft Azure VM など）やベアメタル・インスタンス (BM)
- クラウド環境の個々の VM/BM に VCP で共通環境となるコンテナを起動する。VCPではこのコンテナを「Base コンテナ」と呼ぶ。</li>
</ul>
</div>
<div class="section" id="unitgroup">
<h3>1.3. UnitGroup の状態定義<a class="headerlink" href="#unitgroup" title="Permalink to this headline">¶</a></h3>
<p>UnitGroup は、その管理下にある Unit と Node の状態により、以下の状態遷移を持つ。</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vc_state.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vc_state.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vc_state.png" style="width: 300.0px; height: 110.0px;" /></a>
</div>
<div class="section" id="node">
<h3>1.4. Node の状態定義<a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h3>
<p>Node は、クラウド環境の VM/BM の起動状態やネットワーク接続状況により、以下の状態遷移を持つ。</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/node_state.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/node_state.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/node_state.png" style="width: 395.0px; height: 351.0px;" /></a>
</div>
<div class="section" id="id2">
<h3>1.5. VCP SDK が扱う計算資源の属性<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="provider">
<h4>1.5.1. provider<a class="headerlink" href="#provider" title="Permalink to this headline">¶</a></h4>
<p>以下のクラウドプロバイダに対応する。</p>
<ul class="simple">
<li>Amazon Web Services (AWS)</li>
<li>Microsoft Azure</li>
<li>北海道大学ハイパフォーマンスインタークラウド サーバサービス</li>
<li>VMware vSphere</li>
<li>さくらのクラウド</li>
<li>Oracle Cloud Infrastructure</li>
<li>Chameleon Cloud</li>
<li>Google Cloud Platform (GCP)</li>
<li>オンプレミス・サーバ (On-premises)</li>
</ul>
</div>
<div class="section" id="spec">
<h4>1.5.2. spec<a class="headerlink" href="#spec" title="Permalink to this headline">¶</a></h4>
<p>クラウド環境の VM/BM における CPU コア数、搭載メモリ量などの設定。
VCP SDK の flavor を定義して設定するか、または項目ごとに値を設定する。</p>
<p>クラウドプロバイダごとの項目は、 <a class="reference external" href="#id9">spec一覧</a> を参照。
指定可能な個数や条件は <a class="reference external" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.delete_units">APIドキュメント</a> を参照。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># flavor か取得</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s1">&#39;aws&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">)</span>

<span class="c1"># カスタマイズ</span>
<span class="n">spec</span><span class="o">.</span><span class="n">instance_type</span> <span class="o">=</span> <span class="s1">&#39;m5.xlarge&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="flavor">
<h4>1.5.3. flavor<a class="headerlink" href="#flavor" title="Permalink to this headline">¶</a></h4>
<p>small, large など、クラウド環境の VM/BM の spec 指定を抽象化した形式で扱う設定。</p>
<p>利用者毎に flavor ファイル <cite>vcp_flavor.yml</cite> の内容をカスタマイズすることができる。</p>
<p><cite>vcp_flavor.yml</cite> 記述例</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># VCP SDK cloud flavor</span>
<span class="c1">#</span>

<span class="c1">#</span>
<span class="c1"># Amazon Web Services (AWS)</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">aws</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.large</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gp2</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.xlarge</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gp2</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.2xlarge</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gp2</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="l l-Scalar l-Scalar-Plain">gpu</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">p2.xlarge</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gp2</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>

<span class="l l-Scalar l-Scalar-Plain">aws_disk</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">128</span>

<span class="l l-Scalar l-Scalar-Plain">aws_spot</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.large</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.xlarge</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instance_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m4.2xlarge</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">standard</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>

<span class="c1">#</span>
<span class="c1"># VMware vSphere</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">vmware</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">num_cpus</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1024</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">num_cpus</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2048</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">num_cpus</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4096</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>

<span class="c1">#</span>
<span class="c1"># Hokkaido University High Performance Intercloud Server Service</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">hokudai</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">flavor_name</span><span class="p p-Indicator">:</span> <span class="s">&#39;1core-6GB&#39;</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span> <span class="c1"># minimum 50G</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">flavor_name</span><span class="p p-Indicator">:</span> <span class="s">&#39;2core-8G&#39;</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">flavor_name</span><span class="p p-Indicator">:</span> <span class="s">&#39;4core-16G&#39;</span>
        <span class="l l-Scalar l-Scalar-Plain">volume_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>

<span class="c1">#</span>
<span class="c1"># SAKURA Cloud</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">sakura</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
        <span class="l l-Scalar l-Scalar-Plain">core</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
        <span class="l l-Scalar l-Scalar-Plain">core</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
        <span class="l l-Scalar l-Scalar-Plain">core</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
        <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>

<span class="l l-Scalar l-Scalar-Plain">sakura_disk</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_plan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssd</span>
        <span class="l l-Scalar l-Scalar-Plain">sakuracloud_disk_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">249</span>

<span class="c1">#</span>
<span class="c1"># Microsoft Azure</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">azure</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vm_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_B1s</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
        <span class="l l-Scalar l-Scalar-Plain">managed_disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_LRS</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vm_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_D3_v2</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">managed_disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_LRS</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vm_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_D4_v2</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">managed_disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Premium_LRS</span>

<span class="l l-Scalar l-Scalar-Plain">azure_disk</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">storage_account_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_LRS</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">storage_account_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_LRS</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">storage_account_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Standard_LRS</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">128</span>

<span class="c1">#</span>
<span class="c1"># Oracle Cloud Infrastructure</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">oracle</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">shape</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VM.Standard.E2.1</span>
        <span class="l l-Scalar l-Scalar-Plain">boot_volume_size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">shape</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VM.Standard.E2.2</span>
        <span class="l l-Scalar l-Scalar-Plain">boot_volume_size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">shape</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VM.Standard1.1sd</span>
        <span class="l l-Scalar l-Scalar-Plain">boot_volume_size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>

<span class="l l-Scalar l-Scalar-Plain">oracle_disk</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">size_in_gbs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>

<span class="c1">#</span>
<span class="c1"># Google Cloud Platform</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">gcp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">small</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">machine_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">f1-micro</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pd-standard</span>
    <span class="l l-Scalar l-Scalar-Plain">medium</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">machine_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">n1-standard-1</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pd-ssd</span>
    <span class="l l-Scalar l-Scalar-Plain">large</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">machine_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">n1-highcpu-2</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_size_gb</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">disk_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pd-ssd</span>

<span class="c1">#</span>
<span class="c1"># On-premises</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">onpremises</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">flavor_name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dummy</span>
</pre></div>
</div>
<p>VCP SDK <cite>VCPSDK::df_flavors()</cite> を利用して、内容を確認することができる。</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_flavor.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_flavor.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_flavor.png" style="width: 378.0px; height: 171.0px;" /></a>
<div style="page-break-before:always"></div></div>
</div>
<div class="section" id="vcp-sdk-api">
<h3>1.6. VCP SDK API 利用方法<a class="headerlink" href="#vcp-sdk-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id4">
<h4>1.6.1. 起動<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>最もシンプルな VC ノード起動方法は、以下のような 4 ステップの Python コードで実現可能である。</p>
<p>AWS 上に VC ノードを起動するためのサンプルコードを示す。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">common</span> <span class="kn">import</span> <span class="n">logsetting</span>
<span class="kn">from</span> <span class="nn">vcpsdk.vcpsdk</span> <span class="kn">import</span> <span class="n">VcpSDK</span>

<span class="c1">#</span>
<span class="c1"># VCP SDK 初期化</span>
<span class="c1">#</span>
<span class="n">vcc_access_token</span> <span class="o">=</span> <span class="s2">&quot;ユーザ毎のアクセストークン&quot;</span>

<span class="n">sdk</span> <span class="o">=</span> <span class="n">VcpSDK</span><span class="p">(</span><span class="n">vcc_access_token</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># UnitGroup 作成</span>
<span class="c1">#</span>
<span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">create_ugroup</span><span class="p">(</span><span class="s1">&#39;MyUnitGroupName&#39;</span><span class="p">,</span> <span class="s1">&#39;compute&#39;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 作成する Unit の spec 情報を作成</span>
<span class="c1">#</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 変更可能な spec</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.instance_type = &#39;m4.large&#39;</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.volume_size = 40</span>
<span class="c1"># spec.volume_type = &quot;standard&quot;　# standard|io1|gp2|sc1|st1</span>
<span class="c1"># spec.disks = [&#39;vol-08cbb04b35c8c9545&#39;]</span>

<span class="c1"># VC ノードの DNS 設定 (設定ファイル vcp_config.yml で記述した値を変更可能)</span>
<span class="c1"># spec.dns = [ &#39;1.1.1.1&#39;, &#39;1.0.0.1&#39; ] # e.g. Cloudflare</span>
<span class="c1"># spec.dns_opt = [ &quot;timeout:60&quot; ]</span>
<span class="c1"># spec.dns_search = &quot;example.com&quot;</span>
<span class="c1"># spec.hostname = &quot;mynode&quot;</span>

<span class="c1"># VC ノードの /etc/hosts に追加 (設定ファイル vcp_config.yml で記述した値を変更可能)</span>
<span class="c1"># spec.add_host = [ &quot;myhost:192.168.1.1&quot;, &quot;yourhost:192.168.1.200&quot;]</span>

<span class="c1"># AWS EC2 インスタンスのタグ設定</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>

<span class="c1"># VC ノード に SSH 接続するための公開鍵を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>   <span class="c1"># tmp/id_rsa はあらかじめ作成しておく</span>

<span class="c1">#</span>
<span class="c1"># 作成した spec 情報を利用して Unit を作成（VCノード起動）</span>
<span class="c1">#</span>
<span class="n">unit</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">create_unit</span><span class="p">(</span><span class="s2">&quot;new_sample_server&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="p">)</span>
</pre></div>
</div>
<p><cite>create_unit()</cite> による VC ノード起動に長時間を要してタイムアウトすると、その戻り値の Unit 情報 (vcpsdk::VcpUnitClass) を取得できない。
その場合でも、結果的に VC ノードの起動が完了していれば、 <cite>unit_name</cite> を指定して <cite>get_unit()</cite> を実行することにより Unit 情報を取得し、Unit に対する各種操作を継続することが可能である。</p>
</div>
<div class="section" id="id5">
<h4>1.6.2. UnitGroup 確認<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">ugroup</span> <span class="ow">in</span> <span class="n">sdk</span><span class="o">.</span><span class="n">find_ugroup</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="n">ugroup</span><span class="p">)</span>
<span class="o">---</span>
<span class="p">[</span><span class="n">Vc</span><span class="p">]</span>
<span class="o">+</span> <span class="nb">type</span><span class="p">[</span><span class="n">compute</span><span class="p">]</span> <span class="n">name</span><span class="p">[</span><span class="mo">03</span><span class="n">_sample</span><span class="p">]</span> <span class="n">owner</span><span class="p">(</span><span class="n">user1</span><span class="p">)</span> <span class="n">vcno</span><span class="p">(</span><span class="mi">55</span><span class="p">)</span> <span class="n">state</span><span class="p">[</span><span class="n">RUNNING</span><span class="p">]</span> <span class="n">vcid</span><span class="p">[</span><span class="n">fxxxb28xxxxxxxe698e8001995b7b4a2</span><span class="p">]</span>
<span class="o">...</span>
</pre></div>
</div>
<p><cite>df_ugroups()</cite> の例</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_ugroup.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_ugroup.png" class="align-left" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_ugroup.png" style="width: 838.0px; height: 204.0px;" /></a>
</div>
<div class="section" id="unit-node">
<h4>1.6.3. 起動した Unit, Node の確認<a class="headerlink" href="#unit-node" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">find_nodes</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="o">---</span>
<span class="p">[</span><span class="n">VcNode</span><span class="p">]</span>
<span class="o">+</span> <span class="n">no</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">state</span><span class="p">[</span><span class="n">RUNNING</span><span class="p">]</span> <span class="nb">id</span><span class="p">[</span><span class="mi">13</span><span class="n">xxxxxxxxxxxxxxx2babc606cb4e60f</span><span class="p">]</span> \
<span class="n">cloud_instance_address</span><span class="p">[</span><span class="mf">172.30</span><span class="o">.</span><span class="mf">2.242</span><span class="p">]</span> <span class="n">cloud_instance_id</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mf">0e868711</span><span class="n">a439130d3</span><span class="p">]</span>
    <span class="o">...</span>
<span class="o">---</span>
<span class="p">[</span><span class="n">VcNode</span><span class="p">]</span>
<span class="o">+</span> <span class="n">no</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">state</span><span class="p">[</span><span class="n">RUNNING</span><span class="p">]</span> <span class="nb">id</span><span class="p">[</span><span class="mi">13</span><span class="n">xxxxxxxxxxxxxxx2babc606cb4e60f</span><span class="p">]</span> \
</pre></div>
</div>
<p>pandasのDataFrame形式で出力する方法は、以下の通り。</p>
<p><cite>df_units()</cite> の例</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_units.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_units.png" class="align-left" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_units.png" style="width: 642.0px; height: 128.0px;" /></a>
<p><cite>df_nodes()</cite> の例</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># VCコントローラー全体(所有UnitGroup内のみ)</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">()</span>
<span class="c1"># VCコントローラー全体(特権モードで全て)</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">(</span><span class="n">privileged</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># UnitGroup内</span>
<span class="n">ugroup</span><span class="o">..</span><span class="n">df_nodes</span><span class="p">()</span>
<span class="c1"># Unit内</span>
<span class="n">unit</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">()</span>
</pre></div>
</div>
<p><cite>df_nodes()</cite> のdisk例</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_nodes.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_nodes.png" class="align-left" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/df_nodes.png" style="width: 740.0px; height: 202.0px;" /></a>
<p>もし、設定などの問題で起動に失敗していた場合、Unit を削除する。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ugroup</span><span class="o">.</span><span class="n">delete_units</span><span class="p">(</span><span class="s1">&#39;Unit名&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>指定できる個数、条件は、<a class="reference external" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.delete_units">APIドキュメント</a> を参照。</p>
</div>
<div class="section" id="id6">
<h4>1.6.4. Node 追加<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>起動済みの Node と同じ spec の Node を追加することができる。</p>
<p>e.g. Node を5個追加</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">unit</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>1.6.5. Node 削除<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>起動済みの Node を条件指定により削除することができる。</p>
<p>e.g. 起動済みの Node のうち、1個削除</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">unit</span><span class="o">.</span><span class="n">delete_nodes</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>e.g. 起動済みの Node に対応するクラウドインスタンスの「IP アドレス」を指定して削除</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">unit</span><span class="o">.</span><span class="n">delete_nodes</span><span class="p">(</span><span class="n">ip_address</span><span class="o">=</span><span class="s2">&quot;xxx.xxx.xxx.xxx&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>指定できる条件は、<a class="reference external" href="#vcpsdk.vcpsdk.VcpUnitClass.delete_nodes">APIドキュメント</a> を参照。</p>
</div>
<div class="section" id="unitgroup-unit">
<h4>1.6.6. UnitGroup 初期化 (全 Unit 削除)<a class="headerlink" href="#unitgroup-unit" title="Permalink to this headline">¶</a></h4>
<p>UnitGroup 配下の全ての Unit と Node を削除する。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_ugroup</span><span class="p">(</span><span class="s1">&#39;UnitGroup名&#39;</span><span class="p">)</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h4>1.6.7. spec のカスタマイズ<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>spec の各項目は、その属性値を直接設定することができる。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s1">&#39;aws&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">volume_size</span> <span class="o">=</span> <span class="mi">80</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>1.6.8. UnitGroup 情報の確認<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>利用する VC コントローラの管理下にある UnitGroup 情報を確認する。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">ugroup</span> <span class="ow">in</span> <span class="n">sdk</span><span class="o">.</span><span class="n">find_ugroups</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ugroup</span><span class="p">)</span>
    <span class="o">---</span>
    <span class="o">+</span> <span class="nb">type</span><span class="p">[</span><span class="n">compute</span><span class="p">]</span> <span class="n">name</span><span class="p">[</span><span class="mo">03</span><span class="n">_sample</span><span class="p">]</span> <span class="n">owner</span><span class="p">(</span><span class="n">user1</span><span class="p">)</span> <span class="n">vcno</span><span class="p">(</span><span class="mi">55</span><span class="p">)</span> <span class="n">state</span><span class="p">[</span><span class="n">RUNNING</span><span class="p">]</span> <span class="n">vcid</span><span class="p">[</span><span class="n">fxxxb</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>...</dt>
<dd>...</dd>
</dl>
<p>指定できる条件は、<a class="reference external" href="#vcpsdk.vcpsdk.VcpSDK.find_ugroups">APIドキュメント</a> を参照。</p>
</div>
<div class="section" id="vpn">
<h4>1.6.9. VPNカタログ情報の確認<a class="headerlink" href="#vpn" title="Permalink to this headline">¶</a></h4>
<p>VCで利用できるVPNカタログ情報を取得する。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">sdk</span><span class="o">.</span><span class="n">get_vpn_catalog</span><span class="p">(</span><span class="s2">&quot;aws&quot;</span><span class="p">))</span>
<span class="o">---</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;aws_availability_zone&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1a&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_subnet_id&#39;</span><span class="p">:</span> <span class="s1">&#39;subnet-0a743...&#39;</span><span class="p">,</span> <span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.30.2.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_security_group_id&#39;</span><span class="p">:</span> <span class="s1">&#39;sg-0a56...&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_region&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>引数でproviderを省略すると、全providerの情報を一括して取得できる。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 全部</span>
<span class="n">catalogs</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_vpn_catalog</span><span class="p">()</span>

<span class="k">for</span> <span class="n">provider</span> <span class="ow">in</span> <span class="n">catalogs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">provider</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;onpremises&quot;</span><span class="p">]:</span>
        <span class="k">continue</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;== provider {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">provider</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">catalogs</span><span class="p">[</span><span class="n">provider</span><span class="p">])</span>
<span class="o">---</span>
<span class="o">==</span> <span class="n">provider</span> <span class="n">oracle</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;oracle_subnet_id&#39;</span><span class="p">:</span> <span class="s1">&#39;ocid1.subnet.oc1.ap-tokyo-1.aaxx...&#39;</span><span class="p">,</span> <span class="s1">&#39;oracle_availability_domain&#39;</span><span class="p">:</span> <span class="s1">&#39;mkro:AP-TOKYO-1-AD-1&#39;</span><span class="p">,</span> <span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.24.2.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;oracle_tenancy_ocid&#39;</span><span class="p">:</span> <span class="s1">&#39;ocid1.tenancy.oc1..aa...&#39;</span><span class="p">,</span> <span class="s1">&#39;oracle_compartment_id&#39;</span><span class="p">:</span> <span class="s1">&#39;ocid1.compartment.oc1..a...&#39;</span><span class="p">,</span> <span class="s1">&#39;oracle_region&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-tokyo-1&#39;</span><span class="p">}}</span>
<span class="o">==</span> <span class="n">provider</span> <span class="n">sakura</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;sakura_private_subnet_gateway_ip&#39;</span><span class="p">:</span> <span class="s1">&#39;172.20.1.4&#39;</span><span class="p">,</span> <span class="s1">&#39;sakura_local_switch_id&#39;</span><span class="p">:</span> <span class="s1">&#39;1...&#39;</span><span class="p">,</span> <span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.20.1.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;sakura_zone&#39;</span><span class="p">:</span> <span class="s1">&#39;tk1a&#39;</span><span class="p">}}</span>
<span class="o">==</span> <span class="n">provider</span> <span class="n">aws</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;aws_availability_zone&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1a&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_subnet_id&#39;</span><span class="p">:</span> <span class="s1">&#39;subnet-0a743...&#39;</span><span class="p">,</span> <span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.30.2.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_security_group_id&#39;</span><span class="p">:</span> <span class="s1">&#39;sg-0a56...&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_region&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1&#39;</span><span class="p">}}</span>
<span class="o">==</span> <span class="n">provider</span> <span class="n">azure</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.21.1.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;azure_location&#39;</span><span class="p">:</span> <span class="s1">&#39;Japan East&#39;</span><span class="p">,</span> <span class="s1">&#39;azure_resource_group_name&#39;</span><span class="p">:</span> <span class="s1">&#39;niivcp&#39;</span><span class="p">,</span> <span class="s1">&#39;azure_vnet_name&#39;</span><span class="p">:</span> <span class="s1">&#39;vcc3013&#39;</span><span class="p">,</span> <span class="s1">&#39;azure_subnet_name&#39;</span><span class="p">:</span> <span class="s1">&#39;vcc3013subnet&#39;</span><span class="p">,</span> <span class="s1">&#39;azure_security_group_name&#39;</span><span class="p">:</span> <span class="s1">&#39;vcc3013-main-nsg&#39;</span><span class="p">}}</span>
<span class="o">==</span> <span class="n">provider</span> <span class="n">aws_spot</span>
<span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;aws_availability_zone&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1a&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_subnet_id&#39;</span><span class="p">:</span> <span class="s1">&#39;subnet-0a7...&#39;</span><span class="p">,</span> <span class="s1">&#39;private_network_ipmask&#39;</span><span class="p">:</span> <span class="s1">&#39;172.30.2.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_vpc_security_group_id&#39;</span><span class="p">:</span> <span class="s1">&#39;sg-0a5...&#39;</span><span class="p">,</span> <span class="s1">&#39;aws_region&#39;</span><span class="p">:</span> <span class="s1">&#39;ap-northeast-1&#39;</span><span class="p">}}</span>    <span class="o">...</span>
</pre></div>
</div>
<p>指定できる条件は、<a class="reference external" href="#vcpsdk.vcpsdk.VcpSDK.get_vpn_catalog">APIドキュメント</a> を参照。</p>
<div style="page-break-before:always"></div></div>
<div class="section" id="id10">
<h4>1.6.10. 何か問題があったらバージョン情報を確認<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>バグ報告や質問などは、VCP SDK のバージョン情報を添えてご報告ください。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># VCP SDK バージョン確認</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">version</span><span class="p">()</span>
<span class="o">---</span>
    <span class="n">vcplib</span><span class="p">:</span>
      <span class="n">filename</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">jovyan</span><span class="o">/</span><span class="n">vcpsdk</span><span class="o">/</span><span class="n">vcplib</span><span class="o">/</span><span class="n">occtr</span><span class="o">.</span><span class="n">py</span>
      <span class="n">version</span><span class="p">:</span> <span class="mf">20.08</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">20200831</span>

    <span class="n">vcpsdk</span><span class="p">:</span>
      <span class="n">filename</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">jovyan</span><span class="o">/</span><span class="n">vcpsdk</span><span class="o">/</span><span class="n">vcpsdk</span><span class="o">/</span><span class="n">vcpsdk</span><span class="o">.</span><span class="n">py</span>
      <span class="n">version</span><span class="p">:</span> <span class="mf">20.10</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">20201001</span>

      <span class="n">plugin</span><span class="p">:</span>
        <span class="n">aws</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">aws_disk</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20190408</span>
        <span class="n">aws_spot</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">azure</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">vmware</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">azure_disk</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20190408</span>
        <span class="n">sakura</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">sakura_disk</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20190930</span>
        <span class="n">oracle</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200331</span>
        <span class="n">oracle_disk</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200331</span>
        <span class="n">aic</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">abc</span><span class="p">:</span> <span class="mf">1.3</span><span class="o">+</span><span class="mi">20190408</span>
        <span class="n">hokudai</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20191001</span>
        <span class="n">chameleon</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200831</span>
        <span class="n">chameleon_ext</span><span class="p">:</span> <span class="mi">20200731</span>
        <span class="n">gcp</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20190408</span>
        <span class="n">onpremises</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20190408</span>

    <span class="n">vc_controller</span><span class="p">:</span>
      <span class="n">host</span><span class="p">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.1</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">vcc3060</span>
      <span class="n">wait_timeout_sec</span><span class="p">:</span> <span class="mi">1000</span><span class="p">(</span><span class="n">default</span> <span class="mi">15</span><span class="nb">min</span><span class="p">)</span>
      <span class="n">vc_controller</span><span class="p">:</span> <span class="mf">20.10</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">20201001</span>
      <span class="n">vc_controller_git_tag</span><span class="p">:</span> <span class="n">nightly</span><span class="o">-</span><span class="mi">20200511</span><span class="o">-</span><span class="mi">15</span><span class="o">-</span><span class="n">g8dd969e</span>

      <span class="n">plugin</span><span class="p">:</span>
        <span class="n">sakura</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">aws</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">abc</span><span class="p">:</span> <span class="mf">1.3</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">gcp</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">vmware</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">aws_spot</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">azure</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">aic</span><span class="p">:</span> <span class="mf">1.2</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">chameleon</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">hokudai</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">+</span><span class="mi">20200401</span>
        <span class="n">oracle</span><span class="p">:</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">20200401</span>
</pre></div>
</div>
</div>
<div class="section" id="chameleon-cloud">
<h4>1.6.11. Chameleon Cloud の例<a class="headerlink" href="#chameleon-cloud" title="Permalink to this headline">¶</a></h4>
<p>Chameleon を使用する上で他のクラウドプロバイダと異なる点は、
クラウドインスタンスを起動する前に「予約」操作が必要なことである。</p>
<p>物理サーバおよびネットワークの予約処理は VC 利用者自身で行う必要がある。</p>
<ul class="simple">
<li>ネットワーク予約</li>
</ul>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/chameleon_flow.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/chameleon_flow.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/chameleon_flow.png" style="width: 422.0px; height: 594.0px;" /></a>
<p>Chameleon Cloud 上で VC ノードを起動するためのサンプルコードを示す。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">common</span> <span class="kn">import</span> <span class="n">logsetting</span>
<span class="kn">from</span> <span class="nn">vcpsdk.vcpsdk</span> <span class="kn">import</span> <span class="n">VcpSDK</span>

<span class="c1">#</span>
<span class="c1"># VCP SDK 初期化</span>
<span class="c1">#</span>
<span class="n">vcc_access_token</span> <span class="o">=</span> <span class="s2">&quot;ユーザ毎のアクセストークン&quot;</span>

<span class="n">sdk</span> <span class="o">=</span> <span class="n">VcpSDK</span><span class="p">(</span><span class="n">vcc_access_token</span><span class="p">)</span>

<span class="c1"># VC コントローラ環境に登録済みのクラウドネットワークセグメント情報 (VPNカタログ) を取得</span>
<span class="n">vpn_catalog_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="n">vpn_catalog</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_vpn_catalog</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">,</span> <span class="n">catalog_name</span><span class="o">=</span><span class="n">vpn_catalog_name</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># ネットワーク確認</span>
<span class="c1">#</span>
<span class="c1"># Chameleon Network の予約用 Extension を生成</span>
<span class="n">network_ext</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_extension</span><span class="p">(</span><span class="s2">&quot;chameleon_network&quot;</span><span class="p">)</span>
<span class="n">network_ext</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">vpn_catalog</span><span class="p">)</span>

<span class="c1"># ネットワークの存在チェック</span>
<span class="k">assert</span> <span class="n">network_ext</span><span class="o">.</span><span class="n">network_exists</span><span class="p">(),</span> <span class="s2">&quot;not exist sharedwan1&quot;</span>

<span class="c1">#</span>
<span class="c1"># ホスト (物理サーバ) の予約</span>
<span class="c1">#</span>
<span class="n">host_ext</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_extension</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">)</span>

<span class="c1"># ホスト予約に必要な属性</span>
<span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;compute_skylake&quot;</span>
<span class="n">min_instances</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">max_instances</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># 日付はUTCで指定する</span>
<span class="n">start_dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
<span class="n">start_date</span><span class="o">=</span><span class="n">start_dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M&quot;</span><span class="p">)</span>
<span class="n">end_date</span><span class="o">=</span><span class="p">(</span><span class="n">start_dt</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M&quot;</span><span class="p">)</span> <span class="c1"># 7日</span>

<span class="n">host_ext</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span>
    <span class="n">node_type</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
    <span class="n">min_instances</span><span class="o">=</span><span class="n">min_instances</span><span class="p">,</span>
    <span class="n">max_instances</span><span class="o">=</span><span class="n">max_instances</span><span class="p">,</span>
    <span class="n">lease_name_prefix</span> <span class="o">=</span> <span class="s2">&quot;S003&quot;</span><span class="p">,</span>        <span class="c1"># lease_name の prefix</span>
    <span class="n">vpn_catalog</span><span class="o">=</span><span class="n">vpn_catalog</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># ホスト予約をリクエスト</span>
<span class="n">lease_info</span> <span class="o">=</span> <span class="n">host_ext</span><span class="o">.</span><span class="n">reserve_host</span><span class="p">()</span>
<span class="n">lease_info</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="c1"># 予約IDを取得 (create_unitで必要)</span>
<span class="n">reservation_id</span> <span class="o">=</span> <span class="n">lease_info</span><span class="o">.</span><span class="n">reservation_id</span>

<span class="c1">#---------------------------------------------------</span>

<span class="c1">#</span>
<span class="c1"># UnitGroupの作成</span>
<span class="c1">#</span>
<span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">create_ugroup</span><span class="p">(</span><span class="s1">&#39;UnitGroup名&#39;</span><span class="p">,</span> <span class="s1">&#39;compute&#39;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 作成する Unit の spec 情報を作成</span>
<span class="c1">#</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">reservation</span> <span class="o">=</span> <span class="n">reservation_id</span>       <span class="c1"># 予約済み reservation_id</span>

<span class="c1">#</span>
<span class="c1"># 変更可能な spec</span>
<span class="c1">#</span>
<span class="c1"># クラウドのマシンイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># VC ノード に SSH 接続するための公開鍵を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>

<span class="c1"># VC ノードのタグ設定は Chameleon Cloud ではサポートしない</span>

<span class="c1">#</span>
<span class="c1"># 作成した spec 情報を利用して Unit を作成（VCノード起動）</span>
<span class="c1"># (注意) ホスト予約の開始時刻の到来後に create_unit を呼ぶこと</span>
<span class="c1">#</span>
<span class="n">unit_name</span> <span class="o">=</span> <span class="s1">&#39;chameleon_server&#39;</span>
<span class="n">unit</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">create_unit</span><span class="p">(</span><span class="n">unit_name</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">wait_for</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id11">
<h3>1.7. VCP SDK の設定ファイル<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>VCP SDK を利用する VC コントローラ環境に対応したクラウドプロバイダの情報を
設定ファイル <cite>vcp_config.yml</cite> にあらかじめ記述しておく。</p>
<p><cite>vcp_config.yml</cite> のデフォルトの展開先 PATH は以下のとおり。</p>
<p><cite>/notebooks/notebook/vcp_config/vcp_config.yml</cite></p>
<p>この PATH は VCP SDK 初期化時に <cite>config_dir='config directory'</cite> を指定することで変更可能である。</p>
<p><cite>sdk = VcpSDK('アクセストークン', config_dir=&quot;./my_config&quot;)</cite></p>
<p><cite>vcp_config.yml</cite> は、 実行するnotebookの directory配下の以下の場所が有効となる。</p>
<p><cite>./my_config/vcp_conig.yml</cite></p>
<p><cite>vcp_config.yml</cite> のサンプルを以下に示す。</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># VC Controller</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">vcc</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">host</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VC Controller IP address</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VC Controller Name</span>

    <span class="c1"># 以降省略可。ネットワーク接続方式により必要な場合のみ</span>
    <span class="c1"># DNAT情報などを管理者に問い合わせる。</span>
    <span class="c1"># insecure_request_warning: False</span>
    <span class="c1"># vcc_port: VCP REST API port</span>
    <span class="c1"># vault_port: vault servivce port</span>
    <span class="c1"># private_ip: VC Controller private IP</span>

    <span class="c1"># VC ノードなどの起動・終了待ち時間の調整</span>
    <span class="l l-Scalar l-Scalar-Plain">wait_timeout_sec</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>  <span class="c1"># default 1000sec = 15minutes</span>

<span class="c1"># spec_options:</span>
<span class="c1">#    # http://docs.docker.jp/engine/userguide/networking/default_network/donfigure-dns.html</span>
<span class="c1">#    dns:</span>
<span class="c1">#      - 8.8.8.8</span>
<span class="c1">#    dns_search: example.com</span>
<span class="c1">#    add_host:</span>
<span class="c1">#      - &quot;my_grafana:10.0.0.1&quot;</span>
<span class="c1">#      - &quot;my_gw:172.30.1.10&quot;</span>
<span class="c1">#      - &quot;my_manager:10.0.0.200&quot;</span>
<span class="c1">#    options:</span>
<span class="c1">#      - timeout:60</span>
<span class="c1">#    hostname: mynode</span>

<span class="c1">#</span>
<span class="c1"># Amazon Web Services (AWS)</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">aws</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">access_key</span><span class="p p-Indicator">:</span> <span class="s">&quot;アクセスキーID&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">secret_key</span><span class="p p-Indicator">:</span> <span class="s">&quot;シークレットアクセスキー&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># VMware vSphere</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">vmware</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">user</span><span class="p p-Indicator">:</span> <span class="s">&quot;ユーザ名&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="s">&quot;パスワード&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># Hokkaido University High Performance Intercloud Server Service</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">hokudai</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">user_name</span><span class="p p-Indicator">:</span> <span class="s">&quot;ユーザ名&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="s">&quot;パスワード&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># SAKURA Cloud</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">sakura</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">sakura_token</span><span class="p p-Indicator">:</span> <span class="s">&quot;APIキーのアクセストークン&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">sakura_secret</span><span class="p p-Indicator">:</span> <span class="s">&quot;APIキーのアクセストークンシークレット&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">sakura_private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># Oracle Cloud Infrastructure</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">oracle</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">user_ocid</span><span class="p p-Indicator">:</span> <span class="s">&quot;ユーザーのOCID&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">fingerprint</span><span class="p p-Indicator">:</span> <span class="s">&quot;公開キーのフィンガープリント&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_key</span><span class="p p-Indicator">:</span> <span class="s">&quot;秘密鍵&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># Microsoft Azure</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">azure</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">subscription_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;サブスクリプションID&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">client_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;クライアントID&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">client_secret</span><span class="p p-Indicator">:</span> <span class="s">&quot;クライアントシークレット&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">tenant_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;テナントID&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># Chameleon Cloud</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">chameleon</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">application_credential_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;application_credential_id&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">application_credential_secret</span><span class="p p-Indicator">:</span> <span class="s">&quot;application_credential_secret&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>

<span class="c1">#</span>
<span class="c1"># Google Cloud Platform</span>
<span class="c1">#</span>
<span class="l l-Scalar l-Scalar-Plain">gcp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">credentials</span><span class="p p-Indicator">:</span> <span class="s">&quot;クレデンシャル情報</span><span class="nv"> </span><span class="s">(JSON文字列をBase64エンコードして1行で表現した値)&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">private_network</span><span class="p p-Indicator">:</span> <span class="s">&quot;default&quot;</span>
</pre></div>
</div>
<div class="section" id="jupyternotebookvc">
<h4>1.7.1. JupyterNotebookからVCコントローラに直接接続できないネットワーク構成の場合対応<a class="headerlink" href="#jupyternotebookvc" title="Permalink to this headline">¶</a></h4>
<p>例えば、下図のようにJupyterNotebookがサービスネットワーク外で、DNAT経由でVCコントローラにアクセスする場合は、
以下の項目を設定して対応できる。</p>
<a class="reference internal image-reference" href="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vcc_setting.png"><img alt="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vcc_setting.png" class="align-center" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/vcc_setting.png" style="width: 524.8000000000001px; height: 254.4px;" /></a>
<ul class="simple">
<li>insecure_request_warning: VCコントローラアクセス時のSSL証明書のエラー対応(True: エラー回避)</li>
<li>vcc_port: VCP REST API port番号(default 443)</li>
<li>vault_port: vault servivce port番号(default 8443)</li>
<li>private_ip: VcNodeからVC コントローラにアクセスするための、VC コントローラのIP(default <cite>vcc: host</cite>)</li>
</ul>
<div style="page-break-before:always"></div></div>
<div class="section" id="vcnode-dns">
<h4>1.7.2. VcNode DNS の設定<a class="headerlink" href="#vcnode-dns" title="Permalink to this headline">¶</a></h4>
<p>VcNode上のbase container の DNS を spec で設定できる</p>
<p>例えば、以下のように <cite>dns</cite> (DNS server IP)、 <cite>hostname</cite> を設定する。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span><span class="o">.</span><span class="n">dns</span> <span class="o">=</span> <span class="s2">&quot;1.1.1.1&quot;</span>
<span class="n">spec</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="s2">&quot;server01&quot;</span>
</pre></div>
</div>
<p>VcNode の base container を起動するdocker command は、以下のようになる。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">hostname</span> <span class="n">server01</span> <span class="o">--</span><span class="n">dns</span><span class="o">=</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span> <span class="o">...</span>
</pre></div>
</div>
<p>DNSの設定項目</p>
<ul class="simple">
<li>dns</li>
<li>dns_search</li>
<li>add_host</li>
<li>options</li>
<li>hostname</li>
</ul>
<p>docker の DNS option についての詳細は、以下のdocker公式ドキュメントを参照</p>
<p><a class="reference external" href="http://docs.docker.jp/engine/userguide/networking/default_network/donfigure-dns.html">http://docs.docker.jp/engine/userguide/networking/default_network/donfigure-dns.html</a></p>
<div style="page-break-before:always"></div></div>
</div>
<div class="section" id="id12">
<h3>1.8. 特権モード機能<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>バージョン21.11 でVC コントローラに機能追加された、特権モード(privileged)機能を利用するために、
Superuser トークン所有者は、VCP SDK の各APIに引数 privileged=True をつけて特権モードを行使できる。</p>
<p>通常のモードでは、ユーザが所有している UnitGroup のみ、参照、操作することができる。
特権モードでは、ユーザが所有していない UnitGroup も、参照、操作することができる。</p>
<p>また、特権モードを行使できるのは、VC コントローラにアクセスするためのアクセスキーが、super ユーザとして登録されている場合のみである。
regular ユーザが、特権モードを行使しようとすると、権限エラーとなる。</p>
<p>例) 特権モードの指定方法</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 通常モード</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">()</span>
<span class="c1"># または、</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">(</span><span class="n">privileged</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># 特権モード</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">(</span><span class="n">privileged</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>1.9. spec 一覧<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="section" id="provider-spec">
<h4>1.9.1. provider 共通の spec<a class="headerlink" href="#provider-spec" title="Permalink to this headline">¶</a></h4>
<p>provider 共通の spec 項目は、以下の通り。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 起動する VC ノードの個数</span>
<span class="n">spec</span><span class="o">.</span><span class="n">num_nodes</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># Base コンテナ起動時の VOLUME (-v, --volume) パラメータ</span>
<span class="n">spec</span><span class="o">.</span><span class="n">params_v</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/opt:/opt&#39;</span><span class="p">]</span>
<span class="c1"># Base コンテナ起動時の環境変数 ENV (-e) パラメータ</span>
<span class="n">spec</span><span class="o">.</span><span class="n">params_e</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;USER_NAME=test&#39;</span><span class="p">]</span>

<span class="c1"># VC ノードに SSH 接続するための公開鍵ファイル</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h4>1.9.2. provider 固有の spec<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="#module-vcpsdk.plugins.aws">AWS</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.aws_disk">AWS (disk)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.aws_spot">AWS (Spot Instance)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.hokudai">北海道大学ハイパフォーマンスインタークラウド サーバサービス</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.vmware">VMware</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.azure">Azure</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.azure_disk">Azure (disk)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.sakura">さくらのクラウド</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.sakura_disk">さくらのクラウド (disk)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.oracle">Oracle Cloud</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.oracle_disk">Oracle Cloud (disk)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.chameleon">Chameleon Cloud</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.chameleon_ext">Chameleon Cloud (extension)</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.gcp">GCP</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.aic">AIC</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.abc">ABC</a></li>
<li><a class="reference external" href="#module-vcpsdk.plugins.onpremises">On-premises</a></li>
<li><cite>Fixed IP</cite>: 静的なIPアドレスを割り当ててVCノードを起動する機能 (<code class="docutils literal"><span class="pre">spec.ip_addrsses</span></code>)</li>
<li><cite>Attach volume</cite>: クラウド上の既存のボリュームをクラウドインスタンスにアタッチする機能 (<code class="docutils literal"><span class="pre">spec.disks</span></code>)</li>
<li><cite>Tag</cite>: クラウドインスタンスやディスクに対するタグ設定機能 (<code class="docutils literal"><span class="pre">spec.set_tag</span></code>)</li>
<li><cite>Disk API</cite>: クラウドのディスクを作成、削除するAPI</li>
<li><cite>Power API</cite>: VCノードに対応するクラウドインスタンスのPower on/offを行うAPI</li>
</ul>
<table border="1" class="docutils" id="id18">
<caption><span class="caption-text">クラウドプロバイダとオプショナル機能の対応状況</span><a class="headerlink" href="#id18" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Provider</th>
<th class="head">Fixed IP</th>
<th class="head">Attach volume</th>
<th class="head">Tag</th>
<th class="head">Disk API</th>
<th class="head">Power API</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>aws</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>azure</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-even"><td>aws_spot</td>
<td>○</td>
<td>○</td>
<td>×</td>
<td>○</td>
<td>×</td>
</tr>
<tr class="row-odd"><td>sakura</td>
<td>○</td>
<td>○</td>
<td>×</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-even"><td>oracle</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>vmware</td>
<td>○</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr class="row-even"><td>chameleon</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr class="row-odd"><td>hokudai</td>
<td>○</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr class="row-even"><td>abc</td>
<td>○</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr class="row-odd"><td>aic</td>
<td>○</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
</tbody>
</table>
<div style="page-break-before:always"></div></div>
</div>
</div>
<span id="document-vcpsdk"></span><div class="section" id="vcp-sdk">
<h2>2. VCP SDK<a class="headerlink" href="#vcp-sdk" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-vcpsdk.vcpsdk">
<span id="sdk-vcpsdk-vcpsdk"></span><h3>2.1. SDKベースクラス(vcpsdk/vcpsdk)<a class="headerlink" href="#module-vcpsdk.vcpsdk" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.vcpsdk.VcpExtClass">
<em class="property">class </em><code class="descname">VcpExtClass</code><span class="sig-paren">(</span><em>config_dir</em>, <em>vcc_access_token</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpExtClass" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP 各Cloud毎のExt 情報管理用</p>
<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpExtClass.find_extension">
<code class="descname">find_extension</code><span class="sig-paren">(</span><em>provider_name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpExtClass.find_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>プロバイダ名からextension情報を生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>provider_name</strong> -- real cloud provider名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">VcpExtResource Object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.vcpsdk.VcpSDK">
<em class="property">class </em><code class="descname">VcpSDK</code><span class="sig-paren">(</span><em>vcc_access_token=''</em>, <em>config_dir=''</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>VCP SDKベースクラス</p>
<p>サンプルコード</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 初期化(confi_dir省略時は、 `/notebooks/notebook/vcp_config` )</span>
<span class="n">sdk</span> <span class="o">=</span> <span class="n">VcpSDK</span><span class="p">(</span><span class="s1">&#39;アクセストークン&#39;</span><span class="p">,</span>
            <span class="n">config_dir</span><span class="o">=</span><span class="s2">&quot;vcp_config.yml, vcp_flavor.yml のdirectory&quot;</span><span class="p">)</span>

<span class="c1"># バージョン情報</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">version</span><span class="p">()</span>

<span class="c1"># フレーバー情報</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">df_flavors</span><span class="p">(</span><span class="s1">&#39;プロバイダ名&#39;</span><span class="p">)</span>

<span class="c1"># vaultやdocker registory のurl情報</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">vcc_info</span><span class="p">()</span>

<span class="c1"># spec作成</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s1">&#39;プロバイダ名&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor名&#39;</span><span class="p">)</span>

<span class="c1"># UnitGroup情報出力</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">df_ugroups</span><span class="p">()</span>

<span class="c1"># UnitGroup情報取得</span>
<span class="n">ugroups</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">find_ugroups</span><span class="p">()</span>
<span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_ugroup</span><span class="p">(</span><span class="s1">&#39;UnitGroup名&#39;</span><span class="p">)</span>

<span class="c1"># 既存サーバ用 ssh 公開鍵取得</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">get_publickey</span><span class="p">()</span>

<span class="c1"># UnitGroupの作成</span>
<span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">create_ugroup</span><span class="p">(</span><span class="s1">&#39;UnitGroup名&#39;</span><span class="p">,</span> <span class="s1">&#39;compute|storage&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.authority">
<code class="descname">authority</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.authority" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>authority 情報の取得</p>
<p>結果サンプル</p>
</div></blockquote>
<div class="highlight-none"><div class="highlight"><pre><span></span>{
    &#39;role&#39;: &#39;fullaccess&#39;,
    &#39;user_name&#39;: &#39;nobody&#39;,
    &#39;user_role&#39;: &#39;regular&#39;
}
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">authority情報</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpSDK.config_dir">
<code class="descname">config_dir</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.config_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>config ファイルのディレクトリ</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.create_ugroup">
<code class="descname">create_ugroup</code><span class="sig-paren">(</span><em>ugroup_name</em>, <em>ugroup_type='compute'</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.create_ugroup" title="Permalink to this definition">¶</a></dt>
<dd><p>UnitGroupの作成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ugroup_name</strong> -- vc名</li>
<li><strong>ugroup_type</strong> -- vcタイプ compute|storage</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">UnitGroup情報(vcpsdk::VcpUnitGroupClass)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.df_flavors">
<code class="descname">df_flavors</code><span class="sig-paren">(</span><em>provider_name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.df_flavors" title="Permalink to this definition">¶</a></dt>
<dd><p>flavor定義の一覧(DataFrame形式)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>provider_name</strong> -- 表示対象とするプロバイダ名</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.df_nodes">
<code class="descname">df_nodes</code><span class="sig-paren">(</span><em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.df_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>All node一覧(DataFrame形式)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.df_ugroups">
<code class="descname">df_ugroups</code><span class="sig-paren">(</span><em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.df_ugroups" title="Permalink to this definition">¶</a></dt>
<dd><p>UnitGroup 一覧(DataFrame)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.find_ugroups">
<code class="descname">find_ugroups</code><span class="sig-paren">(</span><em>ugroup_name=''</em>, <em>vcid=''</em>, <em>vcno=''</em>, <em>state=None</em>, <em>ugroup_type=''</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.find_ugroups" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするVC検索</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ugroup_name</strong> -- 検索条件Vc名</li>
<li><strong>vcid</strong> -- 検索条件vcid</li>
<li><strong>vcno</strong> -- 検索条件vcno</li>
<li><strong>ugroup_type</strong> -- 検索条件UnitGroupタイプ</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">UnitGroup情報(vcpsdk::VcpUnitGroupClass)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>検索条件指定が複数あれば、AND条件とする</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.get_extension">
<code class="descname">get_extension</code><span class="sig-paren">(</span><em>provider_name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.get_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>extension(plugin拡張項目)情報の取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>provider_name</strong> -- プロバイダ名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">extensionのリソース情報(vcpsdk::VcpExtResource)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.get_publickey">
<code class="descname">get_publickey</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.get_publickey" title="Permalink to this definition">¶</a></dt>
<dd><p>既存サーバ用 ssh 公開鍵取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ssh 公開鍵文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.get_spec">
<code class="descname">get_spec</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.get_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Spec情報の取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>provider_name</strong> -- プロバイダ名</li>
<li><strong>flavor</strong> -- small, medium, large などのfalvor文字列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">SPECのリソース情報(vcpsdk::VcpSpecResource)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.get_ugroup">
<code class="descname">get_ugroup</code><span class="sig-paren">(</span><em>ugroup_name</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.get_ugroup" title="Permalink to this definition">¶</a></dt>
<dd><p>unit group名を指定して、UnitGroup取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ugroup_name</strong> -- vc名</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">UnitGroup情報(vcpsdk::VcpUnitGroupClass)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.get_vpn_catalog">
<code class="descname">get_vpn_catalog</code><span class="sig-paren">(</span><em>provider=None</em>, <em>vpn_catalog_name='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.get_vpn_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>VC Controller からVPNカタログ情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>provider</strong> -- プロバイダ名</li>
<li><strong>vpn_catalog_name</strong> -- VPNカタログ名</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">vpnカタログ情報</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.vcc_info">
<code class="descname">vcc_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.vcc_info" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>VC Controllerに関する情報の取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">VCCに関する情報</td>
</tr>
</tbody>
</table>
<p>結果サンプル</p>
</div></blockquote>
<div class="highlight-none"><div class="highlight"><pre><span></span>{
  { &quot;host&quot;: &quot;10.0.0.1:443&quot; },
  { &quot;vault_url&quot;: &quot;https://10.0.0.1:8443&quot; },
  { &quot;docker_registry&quot;: {
    &quot;official&quot;:  &quot;10.0.0.1:5000&quot;,
    &quot;user&quot;:  &quot;10.0.0.1:5001&quot;
  }
}
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpSDK.verbose">
<code class="descname">verbose</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP Lib:verbose</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSDK.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSDK.version" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP Libのバージョン出力</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.vcpsdk.VcpSpecClass">
<em class="property">class </em><code class="descname">VcpSpecClass</code><span class="sig-paren">(</span><em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSpecClass" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP 各Cloud毎のResource(spec) 情報管理用</p>
<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpSpecClass.find_spec">
<code class="descname">find_spec</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpSpecClass.find_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>プロバイダ名と、flavorからspec情報を生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>provider_name</strong> -- real cloud provider名</li>
<li><strong>flavor</strong> -- フレーバー名(ex small, medium, large)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">スペックリソースobject</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.vcpsdk.VcpUnitClass">
<em class="property">class </em><code class="descname">VcpUnitClass</code><span class="sig-paren">(</span><em>ugroup</em>, <em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>VcpUnitクラス(VCP Lib::VcUnit &amp; VCP Lib::VcNode相当)</p>
<p>サンプルコード</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span>...
ugroup = sdk.create_ugroup(&#39;UnitGroup名&#39;, &#39;compute|storage&#39;)
unit = ugroup.create_unit(&#39;Unit名&#39;, spec)

# Unit内のnodeをpower off
unit.power_off_nodes()

# Unit内のnodeをpower on
unit.power_on_nodes()

# Node追加
unit.add_nodes(ノード数)

# Node削除
unit.delete_nodes(ノード数)

# Node情報出力
unit.df_nodes()

# Node情報取得
ips = unit.find_ip_adresses()
nodes = unit.find_nodes()
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.add_nodes">
<code class="descname">add_nodes</code><span class="sig-paren">(</span><em>num_add_nodes=1</em>, <em>ip_addresses=[]</em>, <em>ip_address=None</em>, <em>mac_addresses=[]</em>, <em>mac_address=None</em>, <em>wait_for=True</em>, <em>verbose=0</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Nodeの追加</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_add_nodes</strong> -- 追加起動Node数</li>
<li><strong>ip_addresses</strong> -- 追加起動するNodeのIPアドレス(配列)</li>
<li><strong>ip_address</strong> -- 追加起動するNodeのIPアドレス</li>
<li><strong>mac_addresses</strong> -- 追加起動するNodeのMACアドレス(配列)</li>
<li><strong>mac_address</strong> -- 追加起動するNodeのMACアドレス</li>
<li><strong>wait_for</strong> -- nodeの起動待ち条件(True: 待つ)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>ip_address と ip_addresses を両方指定すると和集合として扱う</li>
<li>ip_address と ip_addresses を storageタイプのunitに指定するとエラーとする</li>
<li>ip_addresses, ip_address のいずれかを指定した場合、num_add_nodes を無視する</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.delete_nodes">
<code class="descname">delete_nodes</code><span class="sig-paren">(</span><em>num_delete_nodes=None</em>, <em>node_no=None</em>, <em>cloud_instance_id=None</em>, <em>ip_addresses=None</em>, <em>ip_address=None</em>, <em>wait_for=True</em>, <em>verbose=0</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.delete_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするNode削除</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_delete_nodes</strong> -- 削除対象Node最大数</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_address(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>wait_for</strong> -- nodeの削除待ち条件(True: 待つ)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>検索条件は、最大1個のみ指定可能</li>
<li>検索条件未指定の場合は、num_delete_nodes=1 のみ指定と同様</li>
<li>wait_for=False の場合、複数nodeの削除はできない。(node削除は1個ずつ)</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.df_nodes">
<code class="descname">df_nodes</code><span class="sig-paren">(</span><em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.df_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>node一覧(DataFrame形式)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.find_nodes">
<code class="descname">find_nodes</code><span class="sig-paren">(</span><em>node_id=''</em>, <em>node_state=''</em>, <em>node_no=''</em>, <em>ip_addresses=[]</em>, <em>ip_address=None</em>, <em>cloud_instance_id=None</em>, <em>mapper=None</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.find_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするnode検索</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node_id</strong> -- 検索条件node_id</li>
<li><strong>node_state</strong> -- 検索条件node_state</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_addresses</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>mapper</strong> -- 検索結果のnodeに適用する関数</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>ip_address と ip_addresses を両方指定すると和集合として扱う</li>
<li>検索条件指定が複数あれば、AND条件とする</li>
<li>複数nodeの場合、node_no の昇順にsortした結果を返す</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.name">
<code class="descname">name</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.name" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP Lib::VcUnit の name</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.power_off_nodes">
<code class="descname">power_off_nodes</code><span class="sig-paren">(</span><em>num_power_off_nodes=None</em>, <em>node_no=None</em>, <em>cloud_instance_id=None</em>, <em>ip_addresses=None</em>, <em>ip_address=None</em>, <em>wait_for=True</em>, <em>privileged=False</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.power_off_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするNodeのInstanceのpower off</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_power_off_nodes</strong> -- power off対象Node最大数</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_address(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>wait_for</strong> -- nodeの監視開始待ち条件(True: 待つ)</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>検索条件は、最大1個のみ指定可能</li>
<li>検索条件未指定の場合は、num_power_off_nodes=1 のみ指定と同様</li>
<li>wait_for=False の場合、複数nodeのpower offはできない。(node power offは1個ずつ)</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.power_on_nodes">
<code class="descname">power_on_nodes</code><span class="sig-paren">(</span><em>num_power_on_nodes=None</em>, <em>node_no=None</em>, <em>cloud_instance_id=None</em>, <em>ip_addresses=None</em>, <em>ip_address=None</em>, <em>wait_for=True</em>, <em>privileged=False</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.power_on_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするNodeのInstanceのpower on</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_power_on_nodes</strong> -- power on対象Node最大数</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_address(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>wait_for</strong> -- nodeの監視開始待ち条件(True: 待つ)</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>検索条件は、最大1個のみ指定可能</li>
<li>検索条件未指定の場合は、num_power_on_nodes=1 のみ指定と同様</li>
<li>wait_for=False の場合、複数nodeのpower onはできない。(node power onは1個ずつ)</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.state">
<code class="descname">state</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.state" title="Permalink to this definition">¶</a></dt>
<dd><p>VCP Lib::VcUnit の state</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.unwatch">
<code class="descname">unwatch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.unwatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit監視停止</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">power_off_nodes() の利用を推奨</p>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.unwatch_nodes">
<code class="descname">unwatch_nodes</code><span class="sig-paren">(</span><em>num_watch_nodes=None</em>, <em>node_no=None</em>, <em>cloud_instance_id=None</em>, <em>ip_addresses=None</em>, <em>ip_address=None</em>, <em>privileged=False</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.unwatch_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするNodeの監視停止</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_watch_nodes</strong> -- unwatch対象Node最大数</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_address(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>power_on_nodes の利用を推奨</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.watch">
<code class="descname">watch</code><span class="sig-paren">(</span><em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit監視開始</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wait_for</strong> -- nodeの削除待ち条件(True: 待つ)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">power_on_nodes() の利用を推奨</p>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitClass.watch_nodes">
<code class="descname">watch_nodes</code><span class="sig-paren">(</span><em>num_watch_nodes=None</em>, <em>node_no=None</em>, <em>cloud_instance_id=None</em>, <em>ip_addresses=None</em>, <em>ip_address=None</em>, <em>wait_for=True</em>, <em>privileged=False</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitClass.watch_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするNodeの監視開始</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_watch_nodes</strong> -- watch対象Node最大数</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_address(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>wait_for</strong> -- nodeの監視開始待ち条件(True: 待つ)</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>power_off_nodes の利用を推奨</li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass">
<em class="property">class </em><code class="descname">VcpUnitGroupClass</code><span class="sig-paren">(</span><em>vc=None</em>, <em>vcp_config=''</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>VcpUnitGroupClassクラス(VCLIB::Vc相当)
サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 初期化</span>
<span class="n">sdk</span> <span class="o">=</span> <span class="n">VcpSDK</span><span class="p">(</span><span class="s1">&#39;アクセストークン&#39;</span><span class="p">,</span>
            <span class="n">config_dir</span><span class="o">=</span><span class="s2">&quot;vcp_config.yml, vcp_flavor.yml のdirectory&quot;</span><span class="p">)</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s1">&#39;プロバイダ名&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor名&#39;</span><span class="p">)</span>
<span class="c1"># UnitGroup作成</span>
<span class="n">ugroup</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">create_ugroup</span><span class="p">(</span><span class="s1">&#39;UnitGroup名&#39;</span><span class="p">,</span> <span class="s1">&#39;compute|storage&#39;</span><span class="p">)</span>

<span class="c1"># Unit作成</span>
<span class="n">unit</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">create_unit</span><span class="p">(</span><span class="s1">&#39;Unit名&#39;</span><span class="p">,</span> <span class="n">spec</span><span class="p">)</span>

<span class="c1"># Unit削除</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">delete_units</span><span class="p">(</span><span class="s1">&#39;Unit名&#39;</span><span class="p">)</span>

<span class="c1"># 各種情報出力</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">df_units</span><span class="p">()</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">df_nodes</span><span class="p">()</span>

<span class="c1"># 各種情報取得</span>
<span class="n">ips</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">find_ip_address</span><span class="p">()</span>
<span class="n">units</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">find_units</span><span class="p">()</span>
<span class="n">unit</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">get_unit</span><span class="p">(</span><span class="s1">&#39;Unit名&#39;</span><span class="p">)</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">ugroup</span><span class="o">.</span><span class="n">find_nodes</span><span class="p">()</span>

<span class="c1"># UnitGroup削除</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="c1"># UnitGroupの所有者変更</span>
<span class="n">ugroup</span><span class="o">.</span><span class="n">change_owner</span><span class="p">(</span><span class="s2">&quot;new_owner&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.change_owner">
<code class="descname">change_owner</code><span class="sig-paren">(</span><em>new_owner</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.change_owner" title="Permalink to this definition">¶</a></dt>
<dd><p>VCの所有者変更</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_owner</strong> -- 新しい所有者</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><em>wait_for=True</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>VC初期化(Vc配下の全てのUnitとNodeを削除)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>wait_for</strong> -- nodeの削除待ち条件(True: 待つ)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.create_unit">
<code class="descname">create_unit</code><span class="sig-paren">(</span><em>unit_name</em>, <em>spec</em>, <em>wait_for=True</em>, <em>privileged=False</em>, <em>verbose=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.create_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit作成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unit_name</strong> -- 起動Unit名</li>
<li><strong>spec</strong> -- 起動spec情報</li>
<li><strong>wait_for</strong> -- nodeの起動待ち条件(True: 待つ)</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Unit情報(vcpsdk::VcpUnit)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.delete_units">
<code class="descname">delete_units</code><span class="sig-paren">(</span><em>unit_name</em>, <em>wait_for=True</em>, <em>force=False</em>, <em>privileged=False</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.delete_units" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするUnit削除</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- 検索条件Unit名</li>
<li><strong>wait_for</strong> -- nodeの削除待ち条件(True: 待つ)</li>
<li><strong>force</strong> -- force=Trueで、配下にnodeが存在してもnode毎削除する</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
<li><strong>verbose</strong> -- verbose=0 でverboseなし</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.df_nodes">
<code class="descname">df_nodes</code><span class="sig-paren">(</span><em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.df_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>node一覧(DataFrame形式)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.df_units">
<code class="descname">df_units</code><span class="sig-paren">(</span><em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.df_units" title="Permalink to this definition">¶</a></dt>
<dd><p>unit一覧(DataFrame形式)
:param privileged: 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.find_nodes">
<code class="descname">find_nodes</code><span class="sig-paren">(</span><em>unit_name=''</em>, <em>node_id=''</em>, <em>node_state=''</em>, <em>node_no=''</em>, <em>ip_addresses=[]</em>, <em>ip_address=None</em>, <em>cloud_instance_id=None</em>, <em>mapper=None</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.find_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするnode検索</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unit_name</strong> -- 検索条件unit名</li>
<li><strong>node_id</strong> -- 検索条件node_id</li>
<li><strong>node_state</strong> -- 検索条件node_state</li>
<li><strong>node_no</strong> -- 検索条件node_no</li>
<li><strong>ip_addresses</strong> -- 検索条件cloud_instance_addresses(配列)</li>
<li><strong>ip_address</strong> -- 検索条件cloud_instance_address</li>
<li><strong>cloud_instance_id</strong> -- 検索条件cloud_instance_id</li>
<li><strong>mapper</strong> -- 検索結果のnodeに適用する関数</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">node情報(vcplib::VcNode配列)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>ip_address と ip_addresses を両方指定すると和集合として扱う</li>
<li>検索条件指定が複数あれば、AND条件とする</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.find_units">
<code class="descname">find_units</code><span class="sig-paren">(</span><em>unit_name=''</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.find_units" title="Permalink to this definition">¶</a></dt>
<dd><p>検索条件にマッチするunit検索</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unit_name</strong> -- 検索条件Unit名</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">VcpUnit情報</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>検索条件指定がない場合、UnitGroup内の全てのUnitを返す</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.get_unit">
<code class="descname">get_unit</code><span class="sig-paren">(</span><em>unit_name</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.get_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>unit名を指定してunit取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unit_name</strong> -- ユニット名</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Unit情報(vcpsdk::VcpUnitClass)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.name">
<code class="descname">name</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit groupの名前を取得する</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.owner">
<code class="descname">owner</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>vcplib::Vcの owner</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.state">
<code class="descname">state</code><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.state" title="Permalink to this definition">¶</a></dt>
<dd><p>vcplib::Vcの state</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.vcpsdk.VcpUnitGroupClass.update_ugroup_name">
<code class="descname">update_ugroup_name</code><span class="sig-paren">(</span><em>ugroup_name</em>, <em>ugroup_type='compute'</em>, <em>privileged=False</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.vcpsdk.VcpUnitGroupClass.update_ugroup_name" title="Permalink to this definition">¶</a></dt>
<dd><p>UnitGroup名を設定</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ugroup_name</strong> -- unitGroup名</li>
<li><strong>ugroup_type</strong> -- compute | storage</li>
<li><strong>privileged</strong> -- 特権モードを指定する場合は True、指定しない場合は False (デフォルト)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.aws">
<span id="sdk-plugins-for-aws-vcpsdk-plugins-aws"></span><h3>2.2. SDK plugins for AWS (vcpsdk/plugins/aws)<a class="headerlink" href="#module-vcpsdk.plugins.aws" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws">
<em class="property">class </em><code class="descname">VcpSpecResourceAws</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># aws依存パラメータ</span>
<span class="c1">#   https://www.terraform.io/docs/providers/aws/index.html</span>
<span class="c1"># spec.instance_type = &#39;m4.large&#39;</span>
<span class="c1"># spec.volume_size = 40</span>
<span class="c1"># spec.volume_type = &quot;standard&quot;　# standard|io1|gp2|sc1|st1</span>

<span class="c1"># 追加で使用するVolume</span>
<span class="c1"># spec.disks = [&#39;vol-08cbb04b35c8c9545&#39;]    # volume_id 指定</span>
<span class="c1"># or</span>
<span class="c1"># my_disks = disk_unit.find_nodes()</span>
<span class="c1"># spec.disks = [my_disks[0]]   # VC disk指定</span>

<span class="c1"># cloud上のタグ設定</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>

<span class="c1"># cloud上のAMIイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するAMIのイメージ名</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.disks">
<code class="descname">disks</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.disks" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するEBS volume id</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.instance_type">
<code class="descname">instance_type</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.instance_type" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するinstance_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSのVPC上の静的ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.version">
<code class="descname">version</code><em class="property"> = '1.2+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.volume_size">
<code class="descname">volume_size</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.volume_size" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するvolume_size (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws.VcpSpecResourceAws.volume_type">
<code class="descname">volume_type</code><a class="headerlink" href="#vcpsdk.plugins.aws.VcpSpecResourceAws.volume_type" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するvolume_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.azure">
<span id="sdk-plugins-for-azure-vcpsdk-plugins-azure"></span><h3>2.3. SDK plugins for Azure (vcpsdk/plugins/azure)<a class="headerlink" href="#module-vcpsdk.plugins.azure" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure">
<em class="property">class </em><code class="descname">VcpSpecResourceAzure</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># Azure 依存パラメータ</span>
<span class="c1">#   https://www.terraform.io/docs/providers/azurerm/index.html</span>
<span class="c1"># spec.vm_size = &#39;Standard_LRS&#39; # Standard_LRS|Premium_LRS ...</span>
<span class="c1"># spec.disk_size_gb = 40</span>
<span class="c1"># spec.managed_disk_type = &quot;standard&quot;　# standard|io1|gp2|sc1|st1</span>

<span class="c1"># 追加で使用するVolume</span>
<span class="c1"># spec.disks = [&#39;azure-volume-abc&#39;]</span>
<span class="c1"># or</span>
<span class="c1"># my_disks = disk_unit.find_nodes()</span>
<span class="c1"># spec.disks = [my_disks[0]]   # VC disk指定</span>

<span class="c1"># cloud上のイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># cloud上のタグ設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_tag</span><span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;value1&#39;</span><span class="p">)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_tag</span><span class="p">(</span><span class="s1">&#39;key2&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">)</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する cloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.disk_size_gb">
<code class="descname">disk_size_gb</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.disk_size_gb" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する disk_size_gb (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.disks">
<code class="descname">disks</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.disks" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する ext_managed_disk</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.managed_disk_type">
<code class="descname">managed_disk_type</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.managed_disk_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する managed_disk_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.version">
<code class="descname">version</code><em class="property"> = '1.2+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure.VcpSpecResourceAzure.vm_size">
<code class="descname">vm_size</code><a class="headerlink" href="#vcpsdk.plugins.azure.VcpSpecResourceAzure.vm_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する vm_size</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.sakura">
<span id="sdk-plugins-for-sakura-vcpsdk-plugins-sakura"></span><h3>2.4. SDK plugins for Sakura (vcpsdk/plugins/sakura)<a class="headerlink" href="#module-vcpsdk.plugins.sakura" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura">
<em class="property">class </em><code class="descname">VcpSpecResourceSakura</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;sakura&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># さくらのクラウド依存</span>
<span class="c1">#   https://sacloud.github.io/terraform-provider-sakuracloud/</span>
<span class="c1"># spec.num_cores = 1</span>
<span class="c1"># spec.memory = 100</span>
<span class="c1"># spec.image = &quot;vcp/base:1.1&quot;</span>
<span class="c1"># spec.sakuracloud_disk_plan = &#39;ssd&#39; # or &#39;hdd&#39;</span>
<span class="c1"># spec.sakuracloud_disk_size = 100</span>

<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.disk_plan">
<code class="descname">disk_plan</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.disk_plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存する sakuracloud_disk_plan</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.disks">
<code class="descname">disks</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.disks" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraに依存するdisk id</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>SakuraのVPC上の静的ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.memory">
<code class="descname">memory</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存する memory</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.num_cores">
<code class="descname">num_cores</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.num_cores" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存する num_cores</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.sakuracloud_disk_plan">
<code class="descname">sakuracloud_disk_plan</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.sakuracloud_disk_plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存する sakuracloud_disk_plan</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.sakuracloud_disk_size">
<code class="descname">sakuracloud_disk_size</code><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.sakuracloud_disk_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraのクラウドに依存する sakuracloud_disk_size (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura.VcpSpecResourceSakura.version">
<code class="descname">version</code><em class="property"> = '1.1+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.sakura.VcpSpecResourceSakura.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.aic">
<span id="sdk-plugins-for-aic-vcpsdk-plugins-aic"></span><h3>2.5. SDK plugins for AIC(vcpsdk/plugins/aic)<a class="headerlink" href="#module-vcpsdk.plugins.aic" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic">
<em class="property">class </em><code class="descname">VcpSpecResourceAic</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;aic&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.flavor_name = &#39;cn000&#39; # AIC/ABCの環境依存</span>
<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>
<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>AICに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.flavor_name">
<code class="descname">flavor_name</code><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.flavor_name" title="Permalink to this definition">¶</a></dt>
<dd><p>AICに依存するフレーバー名</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aic.VcpSpecResourceAic.version">
<code class="descname">version</code><em class="property"> = '1.2+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.aic.VcpSpecResourceAic.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.abc">
<span id="sdk-plugins-for-abc-vcpsdk-plugins-abc"></span><h3>2.6. SDK plugins for ABC (vcpsdk/plugins/abc)<a class="headerlink" href="#module-vcpsdk.plugins.abc" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc">
<em class="property">class </em><code class="descname">VcpSpecResourceAbc</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.flavor_name = &#39;cn000&#39; # AIC/ABCの環境依存</span>
<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>
<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>ABCに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.flavor_name">
<code class="descname">flavor_name</code><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.flavor_name" title="Permalink to this definition">¶</a></dt>
<dd><p>AICに依存するフレーバー名</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.abc.VcpSpecResourceAbc.version">
<code class="descname">version</code><em class="property"> = '1.3+20190408'</em><a class="headerlink" href="#vcpsdk.plugins.abc.VcpSpecResourceAbc.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.gcp">
<span id="sdk-plugins-for-gcp-vcpsdk-plugins-gcp"></span><h3>2.7. SDK plugins for GCP (vcpsdk/plugins/gcp)<a class="headerlink" href="#module-vcpsdk.plugins.gcp" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp">
<em class="property">class </em><code class="descname">VcpSpecResourceGcp</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># Google Cloud Platform 依存</span>
<span class="c1">#   https://www.terraform.io/docs/providers/google/index.html</span>
<span class="c1"># spec.machine_type = &#39;n1-standard-1&#39;  # f1-micro|n1-standard-1|...</span>
<span class="c1"># spec.disk_size_gb = 40</span>
<span class="c1"># spec.disk_type = &quot;pd-standard&quot;　# pd-standard|pd-sd|...</span>

<span class="c1"># 追加で使用するVolume</span>
<span class="c1"># spec.disks = [&#39;vol-08cbb04b35c8c9545&#39;]</span>

<span class="c1"># cloud上のGCPイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.disk_size_gb">
<code class="descname">disk_size_gb</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.disk_size_gb" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPに依存するdisk_size_gb (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.disk_type">
<code class="descname">disk_type</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.disk_type" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPに依存するdisk_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.disks">
<code class="descname">disks</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.disks" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPに依存するdisk</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPのVPC上の静的ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.machine_type">
<code class="descname">machine_type</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.machine_type" title="Permalink to this definition">¶</a></dt>
<dd><p>GCPに依存するmachine_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.gcp.VcpSpecResourceGcp.version">
<code class="descname">version</code><em class="property"> = '1.0+20190408'</em><a class="headerlink" href="#vcpsdk.plugins.gcp.VcpSpecResourceGcp.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.onpremises">
<span id="sdk-plugins-for-onpremises-vcpsdk-plugins-onpremises"></span><h3>2.8. SDK plugins for Onpremises (vcpsdk/plugins/onpremises)<a class="headerlink" href="#module-vcpsdk.plugins.onpremises" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises">
<em class="property">class </em><code class="descname">VcpSpecResourceOnpremises</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;onpremises&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="n">spec</span><span class="o">.</span><span class="n">network_if</span> <span class="o">=</span> <span class="s1">&#39;eth9&#39;</span>
<span class="n">spec</span><span class="o">.</span><span class="n">user_name</span> <span class="o">=</span> <span class="s1">&#39;ubuntu&#39;</span>   <span class="c1"># ssh login user</span>
<span class="n">spec</span><span class="o">.</span><span class="n">ip_addresses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;起動するnodeの静的なIPアドレス&#39;</span><span class="p">]</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>onpremisesに依存する ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.network_if">
<code class="descname">network_if</code><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.network_if" title="Permalink to this definition">¶</a></dt>
<dd><p>onpremisesに依存する network_if</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.user_name">
<code class="descname">user_name</code><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.user_name" title="Permalink to this definition">¶</a></dt>
<dd><p>onpremisesに依存する ssh login名</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.version">
<code class="descname">version</code><em class="property"> = '1.0+20190408'</em><a class="headerlink" href="#vcpsdk.plugins.onpremises.VcpSpecResourceOnpremises.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.aws_disk">
<span id="sdk-plugins-for-aws-disk-vcpsdk-plugins-aws-disk"></span><h3>2.9. SDK plugins for AWS Disk (vcpsdk/plugins/aws_disk)<a class="headerlink" href="#module-vcpsdk.plugins.aws_disk" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk">
<em class="property">class </em><code class="descname">VcpSpecResourceAwsDisk</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;aws_disk&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>

<span class="c1"># aws 依存パラメータ</span>
<span class="c1">#   https://www.terraform.io/docs/providers/aws/index.html</span>
<span class="c1"># spec.cloud_image = &#39;AMI-XXXXXX&#39;</span>
<span class="c1"># spec.num_disks = 1</span>
<span class="c1"># spec.type = &quot;standard&quot;　# standard|io1|gp2|sc1|st1</span>
<span class="c1"># spec.size = 40</span>

<span class="c1"># cloud上のタグ設定</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>

<span class="c1"># cloud上のsnapshot名</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するAMIのイメージ名</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.size">
<code class="descname">size</code><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.size" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するdisk size (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.type">
<code class="descname">type</code><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.type" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するdisk type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.version">
<code class="descname">version</code><em class="property"> = '1.0+20190408'</em><a class="headerlink" href="#vcpsdk.plugins.aws_disk.VcpSpecResourceAwsDisk.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.azure_disk">
<span id="sdk-plugins-for-azure-disk-vcpsdk-plugins-azure-disk"></span><h3>2.10. SDK plugins for Azure Disk (vcpsdk/plugins/azure_disk)<a class="headerlink" href="#module-vcpsdk.plugins.azure_disk" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk">
<em class="property">class </em><code class="descname">VcpSpecResourceAzureDisk</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;azure_disk&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_disks = 1</span>

<span class="c1"># Azure 依存パラメータ</span>
<span class="c1">#   https://www.terraform.io/docs/providers/azurerm/index.html</span>
<span class="c1"># spec.storage_account_type = &quot;Standard_LRS&quot;</span>
<span class="c1"># spec.disk_size_gb = 40</span>

<span class="c1"># cloud上のAzureイメージ名</span>
<span class="c1"># spec.cloud_image= &#39;niivcp-xxxx&#39;</span>

<span class="c1"># cloud上のタグ設定</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存する cloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.disk_size_gb">
<code class="descname">disk_size_gb</code><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.disk_size_gb" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存するsize (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.storage_account_type">
<code class="descname">storage_account_type</code><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.storage_account_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Azureに依存するdisk type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.version">
<code class="descname">version</code><em class="property"> = '1.0+20190408'</em><a class="headerlink" href="#vcpsdk.plugins.azure_disk.VcpSpecResourceAzureDisk.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.sakura_disk">
<span id="sdk-plugins-for-sakura-disk-vcpsdk-plugins-sakura-disk"></span><h3>2.11. SDK plugins for Sakura Disk (vcpsdk/plugins/sakura_disk)<a class="headerlink" href="#module-vcpsdk.plugins.sakura_disk" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk">
<em class="property">class </em><code class="descname">VcpSpecResourceSakuraDisk</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;sakura_disk&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_disks = 1</span>

<span class="c1"># さくらのクラウド依存</span>
<span class="c1">#   https://sacloud.github.io/terraform-provider-sakuracloud/</span>
<span class="c1"># spec.cloud_image = &#39;archive-001&#39;</span>
<span class="c1"># spec.sakuracloud_disk_plan = &quot;ssd&quot;　# ssd/hdd</span>
<span class="c1"># spec.sakuracloud_disk_size = 40 # 20GB,40GB,100GB,250GB,500GB,1TB</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraに依存するアーカイブのイメージ名</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.sakuracloud_disk_plan">
<code class="descname">sakuracloud_disk_plan</code><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.sakuracloud_disk_plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraに依存するdisk type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.sakuracloud_disk_size">
<code class="descname">sakuracloud_disk_size</code><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.sakuracloud_disk_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Sakuraに依存するdisk size</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.version">
<code class="descname">version</code><em class="property"> = '1.0+20190930'</em><a class="headerlink" href="#vcpsdk.plugins.sakura_disk.VcpSpecResourceSakuraDisk.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.aws_spot">
<span id="sdk-plugins-for-aws-spot-instance-vcpsdk-plugins-aws-spot"></span><h3>2.12. SDK plugins for AWS Spot Instance (vcpsdk/plugins/aws_spot)<a class="headerlink" href="#module-vcpsdk.plugins.aws_spot" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot">
<em class="property">class </em><code class="descname">VcpSpecResourceAwsSpot</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;aws_spot&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># aws 依存パラメータ</span>
<span class="c1">#   https://www.terraform.io/docs/providers/aws/index.html</span>
<span class="c1"># spec.instance_type = &#39;m4.large&#39;</span>
<span class="c1"># spec.volume_size = 40</span>
<span class="c1"># spec.volume_type = &quot;standard&quot;　# standard|io1|gp2|sc1|st1</span>

<span class="c1"># spot instace専用</span>
<span class="c1"># spec.spot_type = &#39;one-time&#39;   # one-time: spotがなくなったらVcNode終了</span>
                                <span class="c1"># persistent: spotがなくなったらVcNode一時停止</span>
<span class="c1"># spec.spot_price = &quot;0.5&quot;       # スポットインスタンスの1時間当たりの料金(USドル)</span>
<span class="c1"># spec.block_duration_minutes = 300 # スポットインスタンスの継続時間 60, 120, 180, 240, 300, or 360</span>

<span class="c1"># 追加で使用するVolume</span>
<span class="c1"># spec.disks = [&#39;vol-08cbb04b35c8c9545&#39;]    # volume_id 指定</span>
<span class="c1"># or</span>
<span class="c1"># my_disks = disk_unit.find_nodes()</span>
<span class="c1"># spec.disks = [my_disks[0]]   # VC disk指定</span>

<span class="c1"># cloud上のタグ設定(spot requestに付与)</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>

<span class="c1"># cloud上のAMIイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.block_duration_minutes">
<code class="descname">block_duration_minutes</code><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.block_duration_minutes" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するblock_duration_minutes</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.spot_price">
<code class="descname">spot_price</code><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.spot_price" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するspot_price
-  スポットインスタンスの1時間当たりの料金(USドル)</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.spot_type">
<code class="descname">spot_type</code><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.spot_type" title="Permalink to this definition">¶</a></dt>
<dd><p>AWSに依存するspot_type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>one-time | persistent</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.version">
<code class="descname">version</code><em class="property"> = '1.1+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.aws_spot.VcpSpecResourceAwsSpot.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.vmware">
<span id="sdk-plugins-for-vmware-vcpsdk-plugins-vmware"></span><h3>2.13. SDK plugins for VMware (vcpsdk/plugins/vmware)<a class="headerlink" href="#module-vcpsdk.plugins.vmware" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware">
<em class="property">class </em><code class="descname">VcpSpecResourceVmware</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;vmware&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># VMware 依存</span>
<span class="c1">#   https://www.terraform.io/docs/providers/vsphere/index.html</span>
<span class="c1"># spec.num_cpus = 4</span>
<span class="c1"># spec.memory = 1024 # MB</span>
<span class="c1"># spec.disk_size = 40</span>

<span class="c1"># クラウドイメージ(テンプレートとするVMWareの仮想マシンの名前)</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20181216&#39;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareに依存するクラウドイメージ(テンプレートとするVMWareの仮想マシンの名前)</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.disk_size">
<code class="descname">disk_size</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.disk_size" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareに依存するdisk_size (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareのVPC上の静的ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.mac_addresses">
<code class="descname">mac_addresses</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.mac_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareのmac_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.memory">
<code class="descname">memory</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.memory" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareに依存するmemory</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.num_cpus">
<code class="descname">num_cpus</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.num_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>VMwareに依存するnum_cpus</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.vmware.VcpSpecResourceVmware.version">
<code class="descname">version</code><em class="property"> = '1.1+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.vmware.VcpSpecResourceVmware.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.hokudai">
<span id="sdk-plugins-for-hokudai-vcpsdk-plugins-hokudai"></span><h3>2.14. SDK plugins for Hokudai (vcpsdk/plugins/hokudai)<a class="headerlink" href="#module-vcpsdk.plugins.hokudai" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai">
<em class="property">class </em><code class="descname">VcpSpecResourceHokudai</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;hokudai&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>

<span class="c1"># 北海道大学ハイパフォーマンスインタークラウド　サーバサービス依存</span>
<span class="c1"># spec.flavor_name = &#39;cn000&#39;</span>
<span class="c1"># spec.volume_size =  40 # G</span>

<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>
<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>北大Cloudに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.flavor_name">
<code class="descname">flavor_name</code><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.flavor_name" title="Permalink to this definition">¶</a></dt>
<dd><p>北大Cloudに依存するフレーバー名</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.version">
<code class="descname">version</code><em class="property"> = '1.1+20191001'</em><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.volume_size">
<code class="descname">volume_size</code><a class="headerlink" href="#vcpsdk.plugins.hokudai.VcpSpecResourceHokudai.volume_size" title="Permalink to this definition">¶</a></dt>
<dd><p>北大Cloudに依存するディスクサイズ (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.oracle">
<span id="sdk-plugins-for-oracle-cloud-vcpsdk-plugins-oracle"></span><h3>2.15. SDK plugins for Oracle Cloud (vcpsdk/plugins/oracle)<a class="headerlink" href="#module-vcpsdk.plugins.oracle" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle">
<em class="property">class </em><code class="descname">VcpSpecResourceOracle</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;oracle&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># spec.params_v = [&#39;/opt:/opt&#39;]</span>
<span class="c1"># spec.params_e = [&#39;USER_NAME=test&#39;]</span>
<span class="c1"># spec.ip_addresses = [&#39;起動するnodeの静的なIPアドレス&#39;]</span>

<span class="c1"># OracleCloud依存</span>
<span class="c1">#   https://docs.oracle.com/cd/E97706_01/Content/Compute/References/computeshapes.htm</span>
<span class="c1"># spec.shape = &#39;VM.Standard.E2.1.Micro&#39;</span>
<span class="c1"># spec.image = &quot;vcp/base:1.6.1&quot;</span>
<span class="c1"># spec.boot_volume_size_in_gbs = 100</span>

<span class="c1"># 追加で使用するVolume</span>
<span class="c1"># spec.disks = [&#39;ocid1.volume.oc1.ap-tokyo-1.ab...&#39;]    # volume_id 指定</span>
<span class="c1"># or</span>
<span class="c1"># my_disks = disk_unit.find_nodes()</span>
<span class="c1"># spec.disks = [my_disks[0]]   # VC disk指定</span>

<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;niivcp-20170616&#39;</span>

<span class="c1"># cloud上のタグ設定</span>
<span class="c1"># spec.set_tag(&#39;key1&#39;, &#39;value1&#39;)</span>
<span class="c1"># spec.set_tag(&#39;key2&#39;, &#39;value2&#39;)</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.boot_volume_size_in_gbs">
<code class="descname">boot_volume_size_in_gbs</code><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.boot_volume_size_in_gbs" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudに依存する boot_volume_size_in_gbs (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudに依存するcloud_image</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.disks">
<code class="descname">disks</code><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.disks" title="Permalink to this definition">¶</a></dt>
<dd><p>Oracleに依存するBlock Volume のOCID</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudのVPC上の静的ip_address_list</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.shape">
<code class="descname">shape</code><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudに依存する shape</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle.VcpSpecResourceOracle.version">
<code class="descname">version</code><em class="property"> = '1.0+20200331'</em><a class="headerlink" href="#vcpsdk.plugins.oracle.VcpSpecResourceOracle.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.oracle_disk">
<span id="sdk-plugins-for-oracle-cloud-disk-vcpsdk-plugins-oracle-disk"></span><h3>2.16. SDK plugins for Oracle Cloud Disk (vcpsdk/plugins/oracle_disk)<a class="headerlink" href="#module-vcpsdk.plugins.oracle_disk" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk">
<em class="property">class </em><code class="descname">VcpSpecResourceOracleDisk</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_spec</span><span class="p">(</span><span class="s2">&quot;oracle_disk&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_disks = 1</span>

<span class="c1"># OracleCloud のコピー元の Volume の OCID を指定</span>
<span class="c1"># spec.cloud_image = &#39;ocid1.volume.oc1.region.abxhi....&#39;</span>

<span class="c1"># spec.size_in_gbs = 50 # 50 GB and 32768 GB</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudに依存するコピー元の Volume の OCID</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.size_in_gbs">
<code class="descname">size_in_gbs</code><a class="headerlink" href="#vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.size_in_gbs" title="Permalink to this definition">¶</a></dt>
<dd><p>OracleCloudに依存するdisk size (単位:GB)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>VCP SDK flavorで設定可能</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.version">
<code class="descname">version</code><em class="property"> = '1.0+20200331'</em><a class="headerlink" href="#vcpsdk.plugins.oracle_disk.VcpSpecResourceOracleDisk.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.chameleon">
<span id="sdk-plugins-for-chameleon-cloud-vcpsdk-plugins-chameleon"></span><h3>2.17. SDK plugins for Chameleon Cloud (vcpsdk/plugins/chameleon)<a class="headerlink" href="#module-vcpsdk.plugins.chameleon" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon">
<em class="property">class </em><code class="descname">VcpSpecResourceChameleon</code><span class="sig-paren">(</span><em>provider_name</em>, <em>flavor</em>, <em>config_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>サンプルコード</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># chameleon の flavor は、 予約時に指定済みのため、</span>
<span class="c1"># &quot;default&quot; 固定</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">get_chameleon_spec</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># 変更できること</span>
<span class="c1">#</span>
<span class="c1"># spec.num_nodes = 1</span>
<span class="c1"># cloud上のVMイメージ設定</span>
<span class="c1"># spec.cloud_image = &#39;CC-Ubuntu18.04&#39;</span>

<span class="c1"># 予約ID</span>
<span class="n">spec</span><span class="o">.</span><span class="n">reservation</span> <span class="o">=</span> <span class="s2">&quot;予約時に取得した予約識別子文字列&quot;</span>

<span class="c1"># base containerにssh loginするためのssh公開鍵情報を設定</span>
<span class="n">spec</span><span class="o">.</span><span class="n">set_ssh_pubkey</span><span class="p">(</span><span class="s1">&#39;tmp/id_rsa.pub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.cci">
<code class="descname">cci</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.cci" title="Permalink to this definition">¶</a></dt>
<dd><p>CCI生成</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> -- unit名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CCI文字列</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.cloud_image">
<code class="descname">cloud_image</code><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.cloud_image" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleonに依存するAMIのイメージ名</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.ip_addresses">
<code class="descname">ip_addresses</code><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleonのVPC上の静的ip_address_list</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">chameleon の sharedwan1 のネットワークを使用しているときは、静的IPアドレスを指定できない</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>起動するnode数</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.reservation">
<code class="descname">reservation</code><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.reservation" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleon のインスタンス予約時の予約ID</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.version">
<code class="descname">version</code><em class="property"> = '1.0+20200831'</em><a class="headerlink" href="#vcpsdk.plugins.chameleon.VcpSpecResourceChameleon.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vcpsdk.plugins.chameleon_ext">
<span id="sdk-plugins-for-chameleon-cloud-extension-vcpsdk-plugins-chameleon-ext"></span><h3>2.18. SDK plugins for Chameleon Cloud extension (vcpsdk/plugins/chameleon_ext)<a class="headerlink" href="#module-vcpsdk.plugins.chameleon_ext" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.chameleon_ext.VcpChameleonOpenrc">
<em class="property">class </em><code class="descname">VcpChameleonOpenrc</code><span class="sig-paren">(</span><em>provider_name</em>, <em>config_dir</em>, <em>token</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpChameleonOpenrc" title="Permalink to this definition">¶</a></dt>
<dd><p>Chamelenon Extentsions の BASEクラス
(内部クラスであるためAPI上は無視してよい)</p>
</dd></dl>

<dl class="class">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon">
<em class="property">class </em><code class="descname">VcpExtResourceChameleon</code><span class="sig-paren">(</span><em>provider_name</em>, <em>config_dir</em>, <em>token</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Chameleon クラウドインスタンスの予約を行うクラス</p>
<p>サンプルコード</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># vpnカタログ情報を取得</span>
<span class="n">vpn_catalog_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="n">vpn_catalog</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_vpn_catalog</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">,</span> <span class="n">catalog_name</span><span class="o">=</span><span class="n">vpn_catalog_name</span><span class="p">)</span>

<span class="n">host_ext</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_extension</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">)</span>

<span class="c1"># 指定可能項目</span>
<span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;compute_skylake&quot;</span>
<span class="n">min_instances</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">max_instances</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">host_ext</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span>
    <span class="n">node_type</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
    <span class="n">min_instances</span><span class="o">=</span><span class="n">min_instances</span><span class="p">,</span>
    <span class="n">max_instances</span><span class="o">=</span><span class="n">max_instances</span><span class="p">,</span>
    <span class="n">lease_name_prefix</span> <span class="o">=</span> <span class="s2">&quot;S003&quot;</span><span class="p">,</span>
    <span class="n">vpn_catalog</span><span class="o">=</span><span class="n">vpn_catalog</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># インスタンスの予約</span>
<span class="n">lease_info</span> <span class="o">=</span> <span class="n">host_ext</span><span class="o">.</span><span class="n">reserve_host</span><span class="p">()</span>
<span class="n">lease_info</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;host_lease_id is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lease_info</span><span class="o">.</span><span class="n">host_lease_id</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;reservation_id is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lease_info</span><span class="o">.</span><span class="n">reservation_id</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;status is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lease_info</span><span class="o">.</span><span class="n">status</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon.reserve_host">
<code class="descname">reserve_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon.reserve_host" title="Permalink to this definition">¶</a></dt>
<dd><p>クラウドインスタンスの予約を実行する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">クラウドインスタンスの予約結果 ( <a class="reference internal" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo" title="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo"><code class="xref py py-class docutils literal"><span class="pre">vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo</span></code></a> )</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>node_type</em>, <em>start_date=None</em>, <em>end_date=None</em>, <em>min_instances=1</em>, <em>max_instances=1</em>, <em>vcpus=None</em>, <em>memory_mb=None</em>, <em>disk_gb=None</em>, <em>lease_name_prefix=None</em>, <em>vpn_catalog=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleon.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleon のホストの予約情報を作成する (実際の予約処理は reserve_host関数で行う)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_type</strong> -- chameleon 上での node_type</li>
<li><strong>start_date</strong> -- 予約の開始時刻 (タイムゾーンはUTCで <code class="docutils literal"><span class="pre">YYYY-mm-dd</span> <span class="pre">HH:MM</span></code> 形式) Noneを指定した場合は、呼び出し時の時刻が使われる。</li>
<li><strong>end_date</strong> -- 予約の終了時刻 (タイムゾーンはUTCで <code class="docutils literal"><span class="pre">YYYY-mm-dd</span> <span class="pre">HH:MM</span></code> 形式) Noneを指定した場合は、1日後</li>
<li><strong>min_instances</strong> -- 最小台数</li>
<li><strong>max_instances</strong> -- 最大台数</li>
<li><strong>vcpus</strong> -- VCPU数    future use</li>
<li><strong>memory_mb</strong> -- メモリ容量(MBytes)    future use</li>
<li><strong>disk_gb</strong> -- Disk容量(GBytes)    future use</li>
<li><strong>lease_name_prefix</strong> -- Chameleon のlease 名に付けるprefix</li>
<li><strong>vpn_catalog</strong> -- VPNカタログ情報</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">vcpus, memory_mb, disk_gb の指定は現状の実装では、無視する。</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo">
<em class="property">class </em><code class="descname">VcpExtResourceChameleonHostLeaseInfo</code><span class="sig-paren">(</span><em>provider_name</em>, <em>config_dir</em>, <em>token</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Chameleon クラウドインスタンスの予約結果</p>
<p>サンプルコード</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># lease idを使って情報取得</span>
<span class="n">info_ext</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_extension</span><span class="p">(</span><span class="s2">&quot;chameleon_host_lease_info&quot;</span><span class="p">)</span>
<span class="n">info_ext</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">lease_info</span><span class="o">.</span><span class="n">host_lease_id</span><span class="p">,</span> <span class="n">vpn_catalog</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">info_ext</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;host_lease_id is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info_ext</span><span class="o">.</span><span class="n">host_lease_id</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;reservation_id is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info_ext</span><span class="o">.</span><span class="n">reservation_id</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;status is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info_ext</span><span class="o">.</span><span class="n">status</span><span class="p">))</span>

<span class="c1"># 予約の延長</span>
<span class="n">info_ext</span><span class="o">.</span><span class="n">extend</span><span class="p">()</span>

<span class="c1"># 予約の削除</span>
<span class="n">info_ext</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

<span class="c1"># 予約の完了まで待つ</span>
<span class="n">info_ext</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>ホストの予約を削除する。</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>weeks=None</em>, <em>days=None</em>, <em>hours=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>予約を延長する。
weeks, days, hours のどれか一つを選んで指定する。複数の引数が指定された場合、単位が長い方の指定を優先する。</p>
<p>引数を指定しない場合、1日予約を延長する</p>
<p>chameleonの仕様により、予約の延長ができるのは予約が切れる48時間まえ。
その時間外に呼ぶと予約延長操作は失敗する。
予約に失敗した場合は例外を送出する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>weeks</strong> -- 延長する週</li>
<li><strong>days</strong> -- 延長する日数</li>
<li><strong>hours</strong> -- 延長する時間</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.host_lease_id">
<code class="descname">host_lease_id</code><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.host_lease_id" title="Permalink to this definition">¶</a></dt>
<dd><p>lease IDを返す。</p>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.reservation_id">
<code class="descname">reservation_id</code><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.reservation_id" title="Permalink to this definition">¶</a></dt>
<dd><p>reservation IDを返す。CCIのreservationに指定する。</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>host_lease_id</em>, <em>vpn_catalog</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleon のホストの予約情報を設定する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host_lease_id</strong> -- ホストの予約情報識別子</li>
<li><strong>vpn_catalog</strong> -- VPNカタログ情報</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.status">
<code class="descname">status</code><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.status" title="Permalink to this definition">¶</a></dt>
<dd><p>lease状態を返す</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">leaseの状態</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">STARTING</span></code> 予約情報を作成中</li>
<li><code class="docutils literal"><span class="pre">PENDING</span></code> 予約開始時刻が到来していない</li>
<li><code class="docutils literal"><span class="pre">ACTIVE</span></code> 予約開始時刻が到来した</li>
<li><code class="docutils literal"><span class="pre">ERROR</span></code> エラーが発生した</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.update" title="Permalink to this definition">¶</a></dt>
<dd><p>ホストの予約情報を再取得する。</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonHostLeaseInfo.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>leaseの状態(status)がACTIVEになるまで待つ</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork">
<em class="property">class </em><code class="descname">VcpExtResourceChameleonNetwork</code><span class="sig-paren">(</span><em>provider_name</em>, <em>config_dir</em>, <em>token</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>chameleon上でvlanセグメントを予約し、ネットワークを構築する。sharedwan1 を使用する場合は不要。</p>
<p>サンプルコード</p>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># vpnカタログ情報を取得</span>
<span class="n">vpn_catalog_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="n">vpn_catalog</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_vpn_catalog</span><span class="p">(</span><span class="s2">&quot;chameleon&quot;</span><span class="p">,</span> <span class="n">catalog_name</span><span class="o">=</span><span class="n">vpn_catalog_name</span><span class="p">)</span>

<span class="c1"># Chameleon Network の予約用 extension を生成</span>
<span class="n">network_ext</span> <span class="o">=</span> <span class="n">vcpsdk</span><span class="o">.</span><span class="n">get_ext</span><span class="p">(</span><span class="s2">&quot;chameleon_network&quot;</span><span class="p">)</span>
<span class="n">network_ext</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">vpn_catalog</span><span class="p">)</span>

<span class="c1"># 期間 %Y-%m-d %H:%M (省略可) を指定して、Chameleon Network を予約</span>
<span class="c1">#    start_date = start_dt.strftime(&quot;%Y-%m-%d %H:%M&quot;)</span>
<span class="n">network_ext</span><span class="o">.</span><span class="n">create_network</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.create_network">
<code class="descname">create_network</code><span class="sig-paren">(</span><em>start_date=None</em>, <em>end_date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.create_network" title="Permalink to this definition">¶</a></dt>
<dd><p>vlanセグメントを予約し、予約できた場合にネットワーク、サブネットを作成する。</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.network_exists">
<code class="descname">network_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.network_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.network_name">
<code class="descname">network_name</code><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.network_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>vpn_catalog</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.chameleon_ext.VcpExtResourceChameleonNetwork.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>chameleon のネットワークの予約情報を作成する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vpn_catalog</strong> -- VPNカタログ情報</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sdk-plugins-for-mdx-extension-vcpsdk-plugins-mdx-ext">
<h3>2.19. SDK plugins for mdx extension (vcpsdk/plugins/mdx_ext)<a class="headerlink" href="#sdk-plugins-for-mdx-extension-vcpsdk-plugins-mdx-ext" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt">
<em class="property">class </em><code class="descname">MdxResourceExt</code><span class="sig-paren">(</span><em>init_token=None</em>, <em>endpoint='https://oprpl.mdx.jp'</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt" title="Permalink to this definition">¶</a></dt>
<dd><p>mdx REST API にアクセスするためのPythonクライアントライブラリ。</p>
<p>mdx REST API による仮想マシンの作成、状態取得、ネットワーク設定などの機能を提供する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>init_token</strong> -- mdx ユーザポータルから取得した mdx REST API 認証トークン</li>
<li><strong>endpoint</strong> -- mdx REST API エンドポイント URL (オプショナル)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.add_allow_acl_ipv4_info">
<code class="descname">add_allow_acl_ipv4_info</code><span class="sig-paren">(</span><em>allow_acl_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.add_allow_acl_ipv4_info" title="Permalink to this definition">¶</a></dt>
<dd><p>指定したセグメントにAllow ACL IPv4を追加する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>allow_acl_spec</strong> -- 以下のような、追加するAllow ACL IPv4の仕様</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
  &quot;segment&quot;: ネットワークセグメントID
  &quot;src_address&quot;: Src IPv4アドレス
  &quot;src_mask&quot;: Srcマスク
  &quot;src_port&quot;: Srcポート
  &quot;dst_address&quot;: Dst IPv4アドレス
  &quot;dst_mask&quot;: Dstマスクの文字列表現
  &quot;dst_port&quot;: Dstポートの文字列表現
  &quot;protocol&quot;: プロトコル &quot;ICMP&quot; &quot;TCP&quot; &quot;UDP&quot; のいずれか
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.delete_allow_acl_ipv4_info">
<code class="descname">delete_allow_acl_ipv4_info</code><span class="sig-paren">(</span><em>acl_ipv4_id</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.delete_allow_acl_ipv4_info" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl_ipv4_id</strong> -- 削除対象の Allow ACL IPv4 ID</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.deploy_vm">
<code class="descname">deploy_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>vm_spec</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.deploy_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンのデプロイを実行する。wait_forが <code class="docutils literal"><span class="pre">True</span></code> の場合、仮想マシンにIPv4アドレスが付与されるまで待つ。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>vm_spec</strong> -- 仮想マシンの仕様（ハードウェアのカスタマイズ項目）</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
  &quot;catalog&quot;: カタログID
  &quot;disk_size&quot;: 仮想ディスクサイズ(GB)
  &quot;gpu&quot;: GPU数(数値を文字列で指定)
  &quot;pack_type&quot;: パックタイプ(※通常プロジェクトの場合に指定) &quot;gpu&quot; または &quot;cpu&quot; を指定
  &quot;pack_num&quot;: パック数(※通常プロジェクトの場合に指定)
  &quot;network_adapters&quot;: [
     {
        &quot;adapter_number&quot;: ネットワーク番号
        &quot;segment&quot;: ネットワークセグメントID
     }
  ],
  &quot;shared_key&quot;: 仮想マシンへのSSH接続用公開鍵の文字列
  &quot;storage_network&quot;: ストレージネットワーク &quot;sr-iov&quot;, &quot;pvrdma&quot;, &quot;portgroup&quot; のいずれかを指定
  &quot;template_name&quot;: vCenter上の仮想マシンテンプレート名
}
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wait_for</strong> -- 仮想マシンにIPv4アドレスが付与されるまで待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">仮想マシン情報。詳細は get_vm_info() を参照のこと。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.destroy_vm">
<code class="descname">destroy_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.destroy_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンの削除を実行する。事前に仮想マシンを PowerOFF 状態にしておく必要がある。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>wait_for</strong> -- 削除完了を待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.dnat_iter">
<code class="descname">dnat_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.dnat_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_allow_acl_ipv4_info">
<code class="descname">get_allow_acl_ipv4_info</code><span class="sig-paren">(</span><em>segment_id</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_allow_acl_ipv4_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow ACL IPv4情報の取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>segment_id</strong> -- ネットワークセグメントID</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクトに属するAllow ACL IPv4の情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: Allo ACL IPv4 ID
    &quot;src_address&quot;: Srcアドレス
    &quot;src_mask&quot;:  Srcマスク (string で指定　例: &quot;24&quot;)
    &quot;src_port&quot;: Srcポート (string)
    &quot;dst_address&quot;: Dstアドレス
    &quot;dst_mask&quot;: Dstマスク(string で指定　例: &quot;24&quot;)
    &quot;dst_port&quot;: Dstポート (string)
    &quot;protocol&quot;: プロトコル &quot;ICMP&quot; &quot;TCP&quot; &quot;UDP&quot; のいずれか
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_assigned_projects">
<code class="descname">get_assigned_projects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_assigned_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>ユーザに紐付いたプロジェクト情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクト情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: 機関ID
    &quot;name&quot;: 機関名
    &quot;projects&quot;: [
       {
          &quot;uuid&quot;: プロジェクトID
          &quot;name&quot;: プロジェクト名
          &quot;type&quot;: プロジェクトのタイプ &quot;専有&quot; &quot;通常&quot; のいずれか
          &quot;expired&quot;: プロジェクトの期限が切れたか否か (boolean)
       }
    ]
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_current_project">
<code class="descname">get_current_project</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_current_project" title="Permalink to this definition">¶</a></dt>
<dd><p>操作対象のmdxのプロジェクトの取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクトに属するAllow ACL IPv4の情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
   &quot;uuid&quot;: プロジェクトID
   &quot;name&quot;: プロジェクト名
   &quot;type&quot;: プロジェクトのタイプ &quot;専有&quot; &quot;通常&quot; のいずれか
   &quot;expired&quot;: プロジェクトの期限が切れたか否か (boolean)
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_dnat">
<code class="descname">get_dnat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_dnat" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクトに属するDNAT情報の取得</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクトに属する DNAT 情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: DNAT ID
    &quot;pool_address&quot;: 転送元グローバルIPv4アドレス
    &quot;segument&quot;: セグメント名
    &quot;dst_address&quot;: 転送先プライベートIPアドレス
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_project_history">
<code class="descname">get_project_history</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_project_history" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクト内における操作履歴の情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクト操作履歴情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: 操作履歴ID
    &quot;project&quot;: プロジェクトID
    &quot;user_name&quot;: 操作ユーザ名
    &quot;type&quot;: 操作種別
    &quot;object_uuid&quot;: 操作対象オブジェクトID
    &quot;object_name&quot;: 操作対象オブジェクト名
    &quot;start_datetime&quot;: 開始日付 (YYYY-mm-dd HH:MM:SS)
    &quot;end_datetime&quot;: 終了日付 (YYYY-mm-dd HH:MM:SS)
    &quot;status&quot;: ステータス &quot;Running&quot; &quot;Completed&quot; &quot;Failed&quot; のいずれか
    &quot;progress&quot;: 進捗率 (%)
    &quot;error_message&quot;: エラーメッセージ
    &quot;error_detail&quot;: エラー詳細
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_segment_summary">
<code class="descname">get_segment_summary</code><span class="sig-paren">(</span><em>segment_id</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_segment_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>ネットワークセグメントのサマリ情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>segment_id</strong> -- ネットワークセグメントID</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">以下のような、ネットワークセグメントのサマリ情報</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
  &quot;vlan_id&quot;: VLAN ID
  &quot;vni&quot;: VNI
  &quot;ip_range&quot;: IPアドレス範囲
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_segments">
<code class="descname">get_segments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクトに紐付いたネットワークセグメント情報を取得する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、プロジェクトに紐付いたネットワークセグメント情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: ネットワークセグメントID
    &quot;name&quot;: ネットワークセグメント名
    &quot;default&quot;: プロジェクト作成時に作成されるデフォルトのネットワークセグメントか否か(boolean)
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_catalogs">
<code class="descname">get_vm_catalogs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_catalogs" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクトに紐づいた仮想マシンデプロイカタログ情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、カタログのリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: カタログID
    &quot;name&quot;: カタログ名
    &quot;type&quot;: カタログのタイプ
    &quot;template_name&quot;: vCenter上の仮想マシンテンプレート名
    &quot;os_type&quot;: OS種別 &quot;Linux&quot;, &quot;Windows&quot; のいずれか
    &quot;os_name&quot;: OS名 (例: &quot;CentOS&quot;)
    &quot;os_version&quot;: OSバージョン
    &quot;hw_version&quot;: ハードウェアバージョン
    &quot;description&quot;: 説明
    &quot;login_username&quot;: OSログインユーザ名
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_info">
<code class="descname">get_vm_info</code><span class="sig-paren">(</span><em>vm_name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_info" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンの詳細情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vm_name</strong> -- 仮想マシン名</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">以下のような仮想マシン情報</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
  &quot;name&quot;: 仮想マシン名
  &quot;os_type&quot;: OSタイプ
  &quot;status&quot;: 仮想マシンの状態 &quot;PowerON&quot; &quot;PowerOFF&quot; &quot;Suspended&quot; &quot;NotFound&quot; &quot;Deploying&quot; &quot;Detached&quot; のいずれか
  &quot;vmware_tools&quot;: [
     {
       &quot;status&quot;: VMware Tools状態
       &quot;version&quot;: VMware Toolsバージョン
     }
  ],
  &quot;cpu&quot;: CPU数
  &quot;memory&quot;: メモリ量の文字列表現 (例: &quot;2 GB&quot;)
  &quot;gpu&quot;: GPU数の文字列表現 (例: &quot;1&quot;)
  &quot;service_networks&quot;: [
    {
      &quot;adapter_number&quot;: ネットワーク番号
      &quot;ipv4_address&quot;: IPv4アドレスのリスト
      &quot;ipv6_address&quot;: IPv6アドレスのリスト
      &quot;segment&quot;: ネットワークセグメント名
    }
  ],
  &quot;storage_networks&quot;: [
    {
      &quot;adapter_number&quot;: ネットワーク番号
      &quot;ipv4_address&quot;: IPv4アドレスのリスト
      &quot;ipv6_address&quot;: IPv6アドレスのリスト
      &quot;type&quot;: ネットワークタイプ &quot;sr-iov&quot;, &quot;pvrdma&quot;, &quot;portgroup&quot; のいずれか
    }
  ],
  &quot;hard_disks&quot;: [
    {
      &quot;disk_number&quot;: 仮想ディスク番号
      &quot;device_key&quot;: 仮想ディスクデバイスキー
      &quot;capacity&quot;: 仮想ディスクサイズ
      &quot;datastore&quot;: データストア名
    }
  ],
  &quot;dvd_media&quot;: ゲストOSがマウントしているISOイメージ
  &quot;vcenter&quot;: vCenter名
  &quot;esxi&quot;: ESXi名
  &quot;pack_type&quot;: パックタイプ &quot;cpu&quot;, &quot;gpu&quot; のいずれか
  &quot;pack_num&quot;: パック数
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_list">
<code class="descname">get_vm_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.get_vm_list" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクトに属する仮想マシン情報を取得する</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">以下のような、仮想マシン情報のリスト</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
    &quot;uuid&quot;: 仮想マシンID
    &quot;name&quot;: 仮想マシン名
    &quot;status&quot;: 仮想マシン状態 &quot;PowerON&quot; &quot;PowerOFF&quot; &quot;Suspended&quot; &quot;NotFound&quot; &quot;Deploying&quot; &quot;Detached&quot; のいずれか
    &quot;vcenter&quot;: vCenter名
    &quot;running_tasks&quot;: 実行中のタスクのリスト
  }
]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.login">
<code class="descname">login</code><span class="sig-paren">(</span><em>auth_info</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.login" title="Permalink to this definition">¶</a></dt>
<dd><p>mdx REST API 認証トークンを発行する（開発用）
通常利用時は mdx ユーザポータルから認証トークンを取得し、__init__ の init_token 引数に指定すること。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auth_info</strong> -- 以下のような、mdx REST APIの認証情報</td>
</tr>
</tbody>
</table>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
   &quot;username&quot;: mdx REST API ユーザ名
   &quot;password&quot;: mdx REST API パスワード
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.power_off_vm">
<code class="descname">power_off_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.power_off_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンの強制停止 (PowerOFF) を実行する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>wait_for</strong> -- 強制停止の完了を待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.power_on_vm">
<code class="descname">power_on_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.power_on_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンの起動 (PowerON) を実行する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>wait_for</strong> -- 起動の完了を待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.power_shutdown_vm">
<code class="descname">power_shutdown_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.power_shutdown_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンのゲストOSのシャットダウンを実行する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>wait_for</strong> -- シャットダウンの完了を待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.project_history_iter">
<code class="descname">project_history_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.project_history_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>プロジェクト操作履歴をイテレータとして返す。</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.reboot_vm">
<code class="descname">reboot_vm</code><span class="sig-paren">(</span><em>vm_name</em>, <em>wait_for=True</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.reboot_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシンの再起動を実行する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vm_name</strong> -- 仮想マシン名</li>
<li><strong>wait_for</strong> -- 再起動の完了を待つ場合 <code class="docutils literal"><span class="pre">True</span></code> を指定</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.refresh_token">
<code class="descname">refresh_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.refresh_token" title="Permalink to this definition">¶</a></dt>
<dd><p>mdx REST API 認証トークンを更新する</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.set_current_project_by_name">
<code class="descname">set_current_project_by_name</code><span class="sig-paren">(</span><em>project_name</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.set_current_project_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>操作対象のmdxのプロジェクトをプロジェクト名で設定する</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.set_current_project_id">
<code class="descname">set_current_project_id</code><span class="sig-paren">(</span><em>project_id</em><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.set_current_project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>操作対象のmdxのプロジェクトIDを設定する</p>
</dd></dl>

<dl class="method">
<dt id="vcpsdk.plugins.mdx_ext.MdxResourceExt.vm_info_iter">
<code class="descname">vm_info_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vcpsdk.plugins.mdx_ext.MdxResourceExt.vm_info_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>仮想マシン一覧をイテレータとして返す。</p>
</dd></dl>

</dd></dl>

</div>
</div>
<span id="document-vcpcli"></span><div class="section" id="vcp-cli">
<h2>3. VCP CLI操作説明書<a class="headerlink" href="#vcp-cli" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>3.1. 概要<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>オンデマンド構築機能で オブジェクトストレージ機能である Amazon S3 および Azure Blob Storage を操作するコマンドを 提供する。</p>
<p>対象とするクラウドプロバイダーは、以下の通り。</p>
<ul class="simple">
<li><a class="reference external" href="https://aws.amazon.com/jp/s3/">AWS S3</a></li>
<li><a class="reference external" href="https://azure.microsoft.com/ja-jp/services/storage/blobs/">Azure Blog Storage</a></li>
</ul>
</div>
<div class="section" id="vcp">
<h3>3.2. VCPとクラウドオブジェクトストレージの概念の対応付け<a class="headerlink" href="#vcp" title="Permalink to this headline">¶</a></h3>
<p>VCP上でクラウドオブジェクトストレージを扱う際のモデルは、以下のようにする。</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="19%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">VCP</th>
<th class="head">AWS(s3)</th>
<th class="head">Azure(Blog Storage)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>volume</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>ストレージアカウント</td>
</tr>
<tr class="row-odd"><td>volume</td>
<td>Bucket</td>
<td>Container</td>
</tr>
<tr class="row-even"><td>file</td>
<td>object</td>
<td>Blob</td>
</tr>
</tbody>
</table>
<p>参考 Azure のBlob Storageのモデル</p>
<p><img alt="image0" src="https://nii-gakunin-cloud.github.io/ocs-docs/VCPSDK-doc/_images/blob1.png" /></p>
</div>
<div class="section" id="id2">
<h3>3.3. 機能概要<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Linux環境(JupyterNotebook、もしは各VcNode上)で実行できるコマンドラインツールを提供する。</p>
<p>コマンドラインツールは、 <code class="docutils literal"><span class="pre">vcpcli</span></code> と呼ぶ。</p>
<p><code class="docutils literal"><span class="pre">vcpcli</span></code> の機能は以下の通り。</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Usage:
  vcp storage [--debug] create [--no-verify] [--public] &lt;bucket_path&gt;
  vcp storage [--debug] drop [--no-verify] &lt;bucket_path&gt;
  vcp storage [--debug] ls [--no-verify] &lt;path&gt;
  vcp storage [--debug] cp [--no-verify] &lt;src_path&gt; &lt;dest_path&gt;
  vcp storage [--debug] rm [--no-verify] &lt;path&gt;
  vcp configure
  vcp -h
  vcp --version

Options:
  -h --help    ... ヘルプを表示
  --public     ... createコマンドのオプション。作成するvolumeやfileをpublic-access可能とする
  --debug      ... デバッグモード
  --no-verify  ... Vaultへのアクセス時にSSLの検証を省く

Commands:
  configure  ... 設定ファイルのテンプレートを出力する
  storage    ... ストレージの操作

    create   ... ボリュームを作成
    drop     ... ボリュームを削除
    ls       ... ボリューム、オブジェクトの一覧を表示する。引数は接頭辞。
    cp       ... オブジェクトをコピーする
    rm       ... オブジェクトを削除する

Parameters:
  path: storage種別://volume名/file名 ... storage種別(aws-s3|azure-blob)

Environment variables:
  TOKEN: VCC APIアクセストークン
  VCPCLI_CONFIG_DIR: 設定ファイルconfig.ymlがあるディレクトリ(デフォルト $HOME/.vcpcli)
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>3.4. 認証情報の取得方法<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>AWS、Azure にアクセスするめの認証情報(アクセスキーなど）は、VC コントローラ上のVaultサーバから取得する。</p>
<p>そのため、<code class="docutils literal"><span class="pre">vcpcli</span></code> を利用するためには、VCP SDKと同様にVC コントローラアクセス用のアクセストークンのが必要である。</p>
<p>認証サーバのVaultサーバ上の保存場所は、設定ファイルに記述する。</p>
<blockquote>
<div>設定ファイルについては後述</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">aws</span><span class="p">:</span>
  <span class="n">access_key</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">aws_access_key</span>
  <span class="n">secret_key</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">aws_secret_key</span>
  <span class="n">region</span><span class="p">:</span>

<span class="n">azure</span><span class="p">:</span>
  <span class="n">tenant_id</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_tenant_id</span>
  <span class="n">client_id</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_client_id</span>
  <span class="n">client_secret</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_client_secret</span>

  <span class="c1">#</span>
  <span class="n">azure_resource_group_name</span><span class="p">:</span> <span class="n">fillme</span>
  <span class="c1"># 設定する</span>
  <span class="n">azure_location</span><span class="p">:</span> <span class="n">fillme</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>3.5. ユーザ操作説明<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>3.5.1. インストール手順<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">vcpcli</span></code> をツールを実行するサーバにインストールする方法は、以下の通り。</p>
<ol class="arabic">
<li><p class="first">vcpcliが使用するVCコントローラアクセス用CA証明書のインストール</p>
<ul class="simple">
<li>CA証明書がインストールできない場合は、 <code class="docutils literal"><span class="pre">--no-verify</span> <span class="pre">オプション</span></code> を使用する。</li>
</ul>
</li>
<li><p class="first">必要とするライブラリ、ツールのインストール方法</p>
<ul class="simple">
<li>AWS API呼出用の python ライブラリをpipインストールする。</li>
</ul>
<p>requirements.txt</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wscli</span><span class="o">==</span><span class="mf">1.11</span><span class="o">.</span><span class="mi">139</span>
<span class="n">docopt</span><span class="o">==</span><span class="mf">0.6</span><span class="o">.</span><span class="mi">2</span>
<span class="n">azure</span><span class="o">-</span><span class="n">cli</span><span class="o">==</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">59</span>
<span class="n">ruamel</span><span class="o">.</span><span class="n">yaml</span><span class="o">==</span><span class="mf">0.15</span><span class="o">.</span><span class="mi">74</span>
</pre></div>
</div>
<ul class="simple">
<li>TOKENという環境変数にVCC APIアクセストークンを設定する</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="id6">
<h4>3.5.2. 設定手順<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">vcpcli</span></code> の設定ファイルは、 <code class="docutils literal"><span class="pre">$HOME/.vcpcli/config</span></code> に下記のように記述する。</p>
<p><code class="docutils literal"><span class="pre">$HOME/.vcpcli/config.yml</span></code> の例:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">vcc</span><span class="p">:</span>
  <span class="c1"># VCコントローラのIPアドレス</span>
  <span class="n">host</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.1</span>

<span class="n">aws</span><span class="p">:</span>
  <span class="n">access_key</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">aws_access_key</span>
  <span class="n">secret_key</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">aws_secret_key</span>
  <span class="c1"># VPNカタログの情報と同じ</span>
  <span class="n">region</span><span class="p">:</span> <span class="n">ap</span><span class="o">-</span><span class="n">northeast</span><span class="o">-</span><span class="mi">1</span>

<span class="n">azure</span><span class="p">:</span>
  <span class="n">tenant_id</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_tenant_id</span>
  <span class="n">client_id</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_client_id</span>
  <span class="n">client_secret</span><span class="p">:</span> <span class="n">vault</span><span class="p">:</span><span class="o">//</span><span class="n">cubbyhole</span><span class="o">/</span><span class="n">azure_client_secret</span>

  <span class="c1"># VPNカタログの情報と同じ</span>
  <span class="n">azure_resource_group_name</span><span class="p">:</span> <span class="n">fillme</span>
  <span class="n">azure_location</span><span class="p">:</span> <span class="n">fillme</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>3.5.3. コマンド概要<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>volume作成</li>
<li>volume削除</li>
<li>オブジェクトのアップロード</li>
<li>オブジェクトのダウンロード</li>
<li>ボリュームの一覧表示</li>
<li>オブジェクトの一覧表示</li>
<li>オブジェクトの削除</li>
</ul>
<div class="section" id="volume">
<h5>3.5.3.1. volume作成<a class="headerlink" href="#volume" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">create</span> <span class="p">[</span><span class="o">--</span><span class="n">public</span><span class="p">]</span> <span class="n">aws</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">bucketname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>AzureのBlobにおけるストレージアカウントとBlobコンテナをvcpcliでは 両方ボリュームとみなす。</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">create</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">create</span> <span class="p">[</span><span class="o">--</span><span class="n">public</span><span class="p">]</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">create</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">create</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h5>3.5.3.2. volume削除<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">drop</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">drop</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h5>3.5.3.3. オブジェクトのアップロード<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">cp</span> <span class="o">&lt;</span><span class="n">local_src_path</span><span class="o">&gt;</span> <span class="n">aws</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">bucketname</span><span class="o">&gt;/&lt;</span><span class="n">dest_path</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">cp</span> <span class="o">&lt;</span><span class="n">local_src_path</span><span class="o">&gt;</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;/&lt;</span><span class="n">dest_path</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>すでに同じ名前のオブジェクトがある場合は上書きする。</p>
</div>
<div class="section" id="id10">
<h5>3.5.3.4. オブジェクトのダウンロード<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">cp</span> <span class="n">aws</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">bucketname</span><span class="o">&gt;/&lt;</span><span class="n">src_path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">local_dest_path</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">cp</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;/&lt;</span><span class="n">src_path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">local_dest_path</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h5>3.5.3.5. ボリュームの一覧表示<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">ls</span> <span class="n">aws</span><span class="p">:</span><span class="o">//</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">ls</span> <span class="n">azure</span><span class="p">:</span><span class="o">//</span>
</pre></div>
</div>
<p>コンテナの一覧</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">ls</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h5>3.5.3.6. オブジェクトの一覧表示<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">ls</span> <span class="n">aws</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">bucketname</span><span class="o">&gt;/&lt;</span><span class="n">path</span><span class="o">&gt;</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">ls</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;/&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h5>3.5.3.7. オブジェクトの削除<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">rm</span> <span class="n">aws</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">bucketname</span><span class="o">&gt;/&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">TOKEN</span><span class="o">=</span><span class="n">VCCアクセストークン</span>
<span class="n">vcp</span> <span class="n">storage</span> <span class="n">rm</span> <span class="n">azure</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">storage_account_name</span><span class="o">&gt;/&lt;</span><span class="n">container_name</span><span class="o">&gt;/&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id14">
<h3>3.6. 制限事項<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bucket">
<h4>3.6.1. Bucket名 / ストレージアカウント名の制限<a class="headerlink" href="#bucket" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>AWS S3 のBucket 名称は 3 ～ 63 文字の長さで、英数字と <code class="docutils literal"><span class="pre">.</span></code> (ピリオド) および <code class="docutils literal"><span class="pre">-</span></code> (ハイフン) を使用可能</li>
<li>Azure のストレージアカウントは 3 〜 24 文字の長さで、英数小文字と数字を使用可能</li>
</ul>
</div>
<div class="section" id="id15">
<h4>3.6.2. 操作の制限<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>AWS S3, Azure Files の疑似ディレクトリ構造はサポートしない。（フォルダのコピーと削除は利用できない）</li>
<li>AWS S3 と Azure Files間のcopy(cp)は、<code class="docutils literal"><span class="pre">vcpcli</span></code> 実行マシン上に一時ファイルを作成する。大きなファイルサイズの転送時は、実行マシン上の残りディスク容量を超えないように注意する。</li>
</ul>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, NII.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>